{"version":3,"sources":["webpack:///./Engine/Math/Rect.ts","webpack:///./Engine/Resource/Texture.ts","webpack:///./Engine/Display/Sprite.ts","webpack:///./Engine/Render/SpriteRendererComponent.ts","webpack:///./Engine/Physics/RigidbodyComponent.ts","webpack:///./Engine/Resource/Bundle.ts","webpack:///./Engine/Core/Camera.ts","webpack:///./Examples/flappy-bird/resource.ts","webpack:///./Engine/Core/Scene.ts","webpack:///./Engine/Math/Projection.ts","webpack:///./Engine/Render/TextRendererComponent.ts","webpack:///./Engine/Math/Line.ts","webpack:///./Engine/Physics/PolygonColliderComponent.ts","webpack:///./Engine/Physics/ColliderComponent.ts","webpack:///./Engine/Physics/CircleColliderComponent.ts","webpack:///./Engine/Physics/BoxColliderComponent.ts","webpack:///./Engine/Media/AudioPlayerComponent.ts","webpack:///./Engine/Physics/ColliderType.ts","webpack:///./Engine/Resource/Sound.ts","webpack:///./Examples/flappy-bird/main.ts","webpack:///./Examples/flappy-bird/MainScene.ts","webpack:///./Examples/flappy-bird/GameManager.ts","webpack:///../node_modules/rxjs/add/operator/throttleTime.js","webpack:///../node_modules/rxjs/operator/throttleTime.js","webpack:///../node_modules/rxjs/scheduler/async.js","webpack:///../node_modules/rxjs/scheduler/AsyncAction.js","webpack:///../node_modules/rxjs/scheduler/Action.js","webpack:///../node_modules/rxjs/scheduler/AsyncScheduler.js","webpack:///../node_modules/rxjs/Scheduler.js","webpack:///../node_modules/rxjs/operator/throttle.js","webpack:///./Engine/Resource/Font.ts","webpack:///./Examples/flappy-bird/Background.ts","webpack:///./Examples/flappy-bird/Splash.ts","webpack:///./Examples/flappy-bird/Score.ts","webpack:///./Examples/flappy-bird/Pipe.ts","webpack:///./Examples/flappy-bird/Bird.ts","webpack:///./Engine/Render/SpriteSheetRendererComponent.ts","webpack:///./Engine/Display/SpriteSheet.ts","webpack:///./Examples/flappy-bird/ScoreBoard.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,sCAA4C;AAE5C;IAyBE,cAAmB,QAA+B,EAC/B,KAAiB,EACjB,MAAkB;QAFlB,0CAAuB,eAAM,EAAE;QAC/B,iCAAiB;QACjB,mCAAkB;QAFlB,aAAQ,GAAR,QAAQ,CAAuB;QAC/B,UAAK,GAAL,KAAK,CAAY;QACjB,WAAM,GAAN,MAAM,CAAY;IAAG,CAAC;IAzBzC,sBAAW,wBAAM;aAAjB;YACE,MAAM,CAAC,IAAI,eAAM,CACf,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,EAChC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAClC,CAAC;QACJ,CAAC;;;OAAA;IAED,sBAAW,sBAAI;aAAf,cAA4B,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAErD,sBAAW,sBAAI;aAAf,cAA4B,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;;;OAAA;IAElE,sBAAW,sBAAI;aAAf,cAA4B,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAErD,sBAAW,sBAAI;aAAf,cAA4B,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;;;OAAA;IAEnE,sBAAW,qBAAG;aAAd;YACE,MAAM,CAAC,IAAI,eAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1C,CAAC;;;OAAA;IAED,sBAAW,qBAAG;aAAd;YACE,MAAM,CAAC,IAAI,eAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1C,CAAC;;;OAAA;IAMM,uBAAQ,GAAf,UAAgB,KAAa;QAC3B,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAC3C,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5C,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAEM,sBAAO,GAAd,UAAe,OAAa;QAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACzD,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACzD,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IACH,WAAC;AAAD,CAAC;AA5DY,oBAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFjB,yCAAoD;AAEpD,+CAAiE;AACjE,sCAAiD;AAKjD;IAA6B,2BAA2B;IA2BtD,iBAAY,IAAY;QAAxB,YACE,kBAAM,IAAI,CAAC,SACZ;QAxBO,aAAO,GAAY,KAAK,CAAC;QAIzB,YAAM,GAAG,CAAC,CAAC;QAEX,aAAO,GAAG,CAAC,CAAC;;IAkBpB,CAAC;IAhBD,sBAAW,0BAAK;aAAhB,cAA6B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;aAElD,UAAiB,KAAa;YAC5B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;;;OALiD;IAOlD,sBAAW,2BAAM;aAAjB,cAA8B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;aAEpD,UAAkB,KAAa;YAC7B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;;;OALmD;IAWvC,sBAAI,GAAjB;;;;gBACE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAClB,MAAM,KAAC;gBACT,CAAC;gBAED,WAAO,IAAI,OAAO,CAAO,iBAAO;wBAC9B,IAAM,OAAO,GAAG,IAAI,KAAK,EAAE,CAAC;wBAC5B,OAAO,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC;wBACrC,OAAO,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC;wBAC/B,OAAO,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC;wBACvC,OAAO,CAAC,MAAM,GAAG;;;;;;wCAEb,SAAI;wCAAS,WAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;;wCAA5C,GAAK,KAAK,GAAG,SAA+B,CAAC;wCAC7C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;wCACtB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;;;;wCAEnB,IAAI,CAAC,OAAO,CAAC,KAAG,CAAC,CAAC;;;wCAEpB,OAAO,EAAE,CAAC;;;;6BACX,CAAC;wBACF,OAAO,CAAC,GAAG,GAAG,KAAI,CAAC,IAAI,CAAC;oBAC1B,CAAC,CAAC,EAAC;;;KACJ;IAEM,uBAAK,GAAZ;QACE,IAAM,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC7B,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC7B,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC/B,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACnC,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IAEM,6BAAW,GAAlB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QAEpB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;IAEe,6BAAW,GAA3B,UAA4B,KAAuB;;;;gBAC3C,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;gBAChD,GAAG,GAA6B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAE5D,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC1C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC;oBACvC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC;gBAC5C,CAAC;gBAED,GAAG,CAAC,SAAS,CACX,KAAK,EACL,CAAC,EAAE,CAAC,EACJ,KAAK,CAAC,KAAK,EACX,KAAK,CAAC,MAAM,EACZ,CAAC,EAAE,CAAC,EACJ,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CACb,CAAC;gBAEF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBAErB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBAEpB,WAAO,IAAI,EAAC;;;KACb;IAnGD;QADC,eAAM,CAAC,iCAAe,CAAC;;4CACS;IAqGnC,cAAC;CAAA,CAxG4B,mBAAQ,GAwGpC;AAxGY,0BAAO;;;;;;;;;;;;;;;;;;;ACPpB,wCAAkD;AAClD,sCAA4C;AAC5C,qCAAwC;AACxC,+CAAiE;AACjE,sCAAiD;AACjD,qCAA+C;AAG/C;IAwBE,gBAAY,OAAgB,EAKT,IAAuB;QAAvB,kCAAiB,WAAI,EAAE;QAAvB,SAAI,GAAJ,IAAI,CAAmB;QA3BnC,UAAK,GAAW,IAAI,eAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAKrC,WAAM,GAAsB,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAEvD,QAAG,GAA6B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAqB3E,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC3B,CAAC;IAhBD,sBAAI,2BAAO;aAAX,cAAyB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;;;OAAA;IAKhD,sBAAI,yBAAK;aAAT,cAAsB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;;;OAAA;IAE/C,sBAAI,0BAAM;aAAV,cAAuB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;;;OAAA;IAW1C,2BAAU,GAAjB,UAAkB,OAAgB;QAAlC,iBAgBC;QAfC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QAExB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;QACnC,CAAC;QAED,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,WAAW,EAAE,EAAlB,CAAkB,CAAC,CAAC;QAC3E,CAAC;IACH,CAAC;IAEO,4BAAW,GAAnB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACpD,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;YACtC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QAC1C,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QAEtC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;YACjC,OAAO,IAAI,CAAC,aAAa,CAAC;QAC5B,CAAC;QAED,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC5D,IAAI,CAAC,GAAG,CAAC,SAAS,CAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAClB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EACpB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EACpB,IAAI,CAAC,IAAI,CAAC,KAAK,EACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAChB,CAAC,EAAE,CAAC,EACJ,IAAI,CAAC,IAAI,CAAC,KAAK,EACf,IAAI,CAAC,IAAI,CAAC,MAAM,CACjB,CAAC;IACJ,CAAC;IAvED;QADC,eAAM,CAAC,iCAAe,CAAC;;2CACS;IALtB,MAAM;QADlB,aAAK,EAAE;yCAyBe,iBAAO;YAKH,WAAI;OA7BlB,MAAM,CA8ElB;IAAD,aAAC;CAAA;AA9EY,wBAAM;;;;;;;;;;;;;;;;;;;;;;;;;;ACTnB,kDAAoE;AAEpE,gDAAmE;AAGnE;IAA6C,2CAAiB;IAD9D;QAAA,qEAwDC;QA7CS,cAAQ,GAAG,KAAK,CAAC;;IA6C3B,CAAC;IA3CC,sBAAI,2CAAM;aAAV,cAAiC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;aAEvD,UAAW,KAAuB;YAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,CAAC;;;OALsD;IAOvD,sBAAI,4CAAO;aAAX,cAAyB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;;;OAAA;IAEzC,wCAAM,GAAb;QACE,iBAAM,MAAM,WAAE,CAAC;QACf,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACX,qBAAgC,EAA9B,gBAAK,EAAE,kBAAM,CAAkB;YACvC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;QAC9B,CAAC;IACH,CAAC;IAEM,wCAAM,GAAb;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,MAAM,CAAC;QACT,CAAC;QAMD,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QAEf,oBAA+B,EAA7B,gBAAK,EAAE,kBAAM,CAAiB;QAEtC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QAEnC,GAAG,CAAC,IAAI,EAAE,CAAC;QAEX,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAEzC,GAAG,CAAC,OAAO,EAAE,CAAC;IAIhB,CAAC;IArDU,uBAAuB;QADnC,iCAAe,EAAE;OACL,uBAAuB,CAuDnC;IAAD,8BAAC;CAAA,CAvD4C,qCAAiB,GAuD7D;AAvDY,0DAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLpC,0CAAoD;AACpD,0CAAkD;AAClD,mDAAuE;AACvE,sCAA4C;AAC5C,uCAA4C;AAC5C,qCAAwC;AACxC,0CAAqD;AACrD,gDAAmE;AACnE,iDAAqE;AACrE,sCAAiD;AAQjD,IAAM,QAAQ,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;AAI7B;IAAwC,sCAAS;IAiE/C,4BAAY,IAAgB,EACQ,MAAc,EAChB,IAAU;QAF5C,YAGE,kBAAM,IAAI,CAAC,SACZ;QAHmC,YAAM,GAAN,MAAM,CAAQ;QAChB,UAAI,GAAJ,IAAI,CAAM;QAjErC,iBAAW,GAAW,CAAC,CAAC;QAKxB,qBAAe,GAAW,CAAC,CAAC;QAE5B,UAAI,GAAW,CAAC,CAAC;QAEjB,oBAAc,GAAY,KAAK,CAAC;QAK/B,WAAK,GAAW,CAAC,CAAC;QAMV,iBAAW,GAAW,CAAC,CAAC;QAKhC,UAAI,GAAW,IAAI,CAAC;QAMZ,gBAAU,GAAW,KAAK,CAAC;QAEpC,wBAAkB,GAAW,QAAQ,CAAC;QAKtC,cAAQ,GAAW,eAAM,CAAC,GAAG,EAAE,CAAC;QAEhC,gBAAU,GAAY,KAAK,CAAC;QAE5B,gBAAU,GAAY,KAAK,CAAC;QAE5B,oBAAc,GAAW,CAAC,CAAC;QAElB,YAAM,GAAW,CAAC,CAAC;QAE3B,YAAM,GAAa;YACzB,eAAM,CAAC,GAAG,EAAE;YACZ,eAAM,CAAC,GAAG,EAAE;YACZ,eAAM,CAAC,GAAG,EAAE;YACZ,eAAM,CAAC,GAAG,EAAE;SACb,CAAC;QAEM,aAAO,GAAa,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,gBAAU,GAAW,CAAC,CAAC;QAIvB,kBAAY,GAAW,eAAM,CAAC,GAAG,EAAE,CAAC;;IAM5C,CAAC;IAnDD,sBAAW,oCAAI;aAAf,cAA4B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aAEhD,UAAgB,KAAa,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAA8B,IAAK,CAAC,WAAW,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;;;OAFlE;IAWhD,sBAAW,mCAAG;aAAd,cAA2B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aAE9C,UAAe,KAAa,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,CAA8B,IAAK,CAAC,UAAU,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;;;OAFjE;IA0CvC,kCAAK,GAAZ;QACE,iBAAM,KAAK,WAAE,CAAC;QACd,IAAI,CAAC,SAAS,GAAuB,IAAI,CAAC,YAAY,CAAC,uCAAkB,CAAC,CAAC;IAC7E,CAAC;IAEM,qCAAQ,GAAf,UAAgB,KAAa,EAAE,SAAsC;QAAtC,wCAAuB,qBAAS,CAAC,KAAK;QACnE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IAEM,sCAAS,GAAhB,UAAiB,MAAc,EAAE,SAAsC;QAAtC,wCAAuB,qBAAS,CAAC,KAAK;QACrE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC;IACpC,CAAC;IAEM,uCAAU,GAAjB;QACE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK,IAAI,YAAK,CAAC,KAAK,EAAE,EAAb,CAAa,CAAC,CAAC;IAC9C,CAAC;IAEM,wCAAW,GAAlB;QACE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC7C,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACtB,CAAC;IACH,CAAC;IAEM,kCAAK,GAAZ;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACtB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEM,kCAAK,GAAZ;QACE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IACtB,CAAC;IAEM,wCAAW,GAAlB;QACE,iBAAM,WAAW,WAAE,CAAC;QAEpB,IAAM,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC;QAE3D,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,qBAAS,CAAC,YAAY,CAAC,CAAC;QAC7D,CAAC;QAQD,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5E,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QAChD,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;QAKrC,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;QAChE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,YAAY,CAAC,CAAC,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,YAAY,CAAC,CAAC,KAAK,EAAE,CAAC;QAK5C,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9D,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,OAAO,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;QAKvC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,cAAc,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,MAAM,CAAC,qBAAS,CAAC,cAAc,CAAC,CAAC,KAAK,EAAE,CAAC;QAK9C,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,GAAG,iBAAiB,CAAC;QACrE,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,KAAK,CAAC,CAAC;QACtD,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAElC,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,YAAY,CAAC,IAAI,iBAAiB,CAAC;QAC1D,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,YAAY,CAAC,CAAC;QAC7D,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC;QACnD,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAEpC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,cAAc,CAAC,CAAC;QAC/D,IAAI,CAAC,OAAO,CAAC,qBAAS,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QAE3C,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;QAGnC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,iBAAiB,CAAC,CAAC,CAAC;YACvE,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;YACnE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACrB,CAAC;QAGD,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;QAC3B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBAC1C,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,iBAAiB,CAAC,CAAC;gBAE9E,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;oBACnD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBACjD,CAAC;gBAED,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,IAAI,CAAC,eAAe,GAAG,iBAAiB,CAAC;gBACpE,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC/D,CAAC;QACH,CAAC;QAG4B,IAAK,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QAExH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAClD,CAAC;IAEM,kCAAK,GAAZ;QACE,iBAAM,KAAK,WAAE,CAAC;QACd,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,eAAM,CAAC,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG;YACZ,eAAM,CAAC,GAAG,EAAE;YACZ,eAAM,CAAC,GAAG,EAAE;YACZ,eAAM,CAAC,GAAG,EAAE;YACZ,eAAM,CAAC,GAAG,EAAE;SACb,CAAC;QACF,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,YAAY,GAAG,eAAM,CAAC,GAAG,EAAE,CAAC;IACnC,CAAC;IAEM,oCAAO,GAAd;QACE,iBAAM,OAAO,WAAE,CAAC;QAChB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACxB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK,IAAI,YAAK,CAAC,OAAO,EAAE,EAAf,CAAe,CAAC,CAAC;QAC9C,eAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC1B,eAAM,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK,IAAI,sBAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAjB,CAAiB,CAAC,CAAC;IAClD,CAAC;IAEO,uCAAU,GAAlB,UAAmB,iBAAyB;QAC1C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC,CAAC,CAAC;YACjD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,UAAU,IAAI,iBAAiB,CAAC;gBAErC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC;oBAC1B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;oBACpB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACf,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACtB,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gBACvC,IAAI,CAAC,KAAK,EAAE,CAAC;YACf,CAAC;QACH,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC;IACH,CAAC;IA3PU,kBAAkB;QAF9B,iCAAe,EAAE;QACjB,mCAAgB,CAAC,CAAC,uCAAkB,CAAC,CAAC;QAmExB,0BAAM,CAAC,eAAM,CAAC;QACd,0BAAM,CAAC,WAAI,CAAC;yCAFP,uBAAU;OAjEjB,kBAAkB,CA4P9B;IAAD,yBAAC;CAAA,CA5PuC,qBAAS,GA4PhD;AA5PY,gDAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrB/B,yCAAoD;AACpD,6CAAyD;AAGzD;IAA4B,0BAAQ;IAElC,gBAAY,UAAkB,EACF,SAAuC;QAAvC,0CAAuC;QADnE,YAEE,kBAAM,UAAU,CAAC,SAClB;QAF2B,eAAS,GAAT,SAAS,CAA8B;;IAEnE,CAAC;IAEM,oBAAG,GAAV,UAAW,QAAkB;QAC3B,EAAE,CAAC,CAAC,yBAAU,CAAa,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC;QAED,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAClD,CAAC;IAEY,qBAAI,GAAjB;;;;;;;wBACE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;4BACnB,MAAM,KAAC;wBACT,CAAC;;;;wBAGC,WAAM,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAM,QAAQ;gCAAI,mBAAQ,CAAC,IAAI,EAAE;qCAAA,CAAC,CAAC;;wBAAxE,SAAwE,CAAC;;;;wBAEzE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAG,CAAC,CAAC;;;wBAGzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;wBACtB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;;;;;KACpB;IAEM,wBAAO,GAAd;QACE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAQ,IAAI,eAAQ,CAAC,OAAO,EAAE,EAAlB,CAAkB,CAAC,CAAC;IACzD,CAAC;IAEH,aAAC;AAAD,CAAC,CAlC2B,mBAAQ,GAkCnC;AAlCY,wBAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJnB,0CAAoD;AACpD,uCAA+C;AAC/C,sDAA0E;AAC1E,qCAA6C;AAC7C,uCAA+C;AAE/C,qCAAwC;AACxC,uCAA4C;AAC5C,oCAA6D;AAC7D,+CAAiE;AACjE,uCAAmD;AACnD,sCAAiD;AAEpC,kBAAU,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;AAM/C;IAA4B,0BAAU;IA8BpC,gBAAqC,OAAwB,EACjC,MAAc,EACC,qBAA4C;QAFvF,YAGE,kBAAM,qBAAqB,CAAC,SAG7B;QAlCM,YAAM,GAAW,EAAE,GAAG,CAAC,CAAC;QAExB,qBAAe,GAAU,aAAK,CAAC,KAAK,CAAC;QAErC,mBAAa,GAAW,IAAI,eAAM,EAAE,CAAC;QAErC,oBAAc,GAAW,IAAI,eAAM,EAAE,CAAC;QAKtC,iBAAW,GAAU,sBAAe,CAAC;QAKrC,eAAS,GAAU,sBAAe,CAAC;QAKnC,UAAI,GAAS,IAAI,WAAI,EAAE,CAAC;QAKxB,YAAM,GAAW,IAAI,eAAM,EAAE,CAAC;QAOnC,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;;IAC5C,CAAC;IAEM,wBAAO,GAAd,UAAe,KAAa,EAAE,MAAc;QAC1C,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAE5B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAE1B,IAAM,SAAS,GAAG,KAAK,GAAG,GAAG,CAAC;QAC9B,IAAM,UAAU,GAAG,MAAM,GAAG,GAAG,CAAC;QAGhC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QAErD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEjC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;IACnD,CAAC;IAEM,uBAAM,GAAb;QACE,iBAAM,MAAM,WAAE,CAAC;QAKf,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;QAC3B,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtF,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QACpD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAEhD,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAEnD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAEM,2BAAU,GAAjB;QACE,iBAAM,UAAU,WAAE,CAAC;QACnB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;IAChC,CAAC;IAEM,8BAAa,GAApB,UAAqB,KAAa;QAChC,IAAM,MAAM,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QAC3C,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IAEM,8BAAa,GAApB,UAAqB,KAAa;QAChC,IAAM,MAAM,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QAC5C,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IAtFU,MAAM;QADlB,iBAAO,CAAC,kBAAU,CAAC;QA+BL,0BAAM,CAAC,iCAAe,CAAC;QACvB,0BAAM,CAAC,eAAM,CAAC;QACd,0BAAM,CAAC,6CAAqB,CAAC;;OAhC/B,MAAM,CAwFlB;IAAD,aAAC;CAAA,CAxF2B,uBAAU,GAwFrC;AAxFY,wBAAM;;;;;;;;;;ACnBnB,wCAAkD;AAElD,sCAA4C;AAC5C,sCAA8C;AAC9C,uCAAgD;AAEnC,oBAAY,GAAG,IAAI,iBAAO,CAAC,+BAA+B,CAAC,CAAC;AAE5D,oBAAY,GAAG,IAAI,iBAAO,CAAC,+BAA+B,CAAC,CAAC;AAE5D,mBAAW,GAAG,IAAI,iBAAO,CAAC,qCAAqC,CAAC,CAAC;AAEjE,sBAAc,GAAG,IAAI,iBAAO,CAAC,iCAAiC,CAAC,CAAC;AAEhE,YAAI,GAAG,IAAI,WAAI,CAAC,YAAY,EAAE,UAAU,EAAE,+BAA+B,CAAC,CAAC;AAE3E,sBAAc,GAAG,IAAI,iBAAO,CAAC,iCAAiC,CAAC,CAAC;AAEhE,0BAAkB,GAAG,IAAI,iBAAO,CAAC,qCAAqC,CAAC,CAAC;AAExE,4BAAoB,GAAG,IAAI,iBAAO,CAAC,uCAAuC,CAAC,CAAC;AAE5E,0BAAkB,GAAG,IAAI,iBAAO,CAAC,qCAAqC,CAAC,CAAC;AAExE,8BAAsB,GAAG,IAAI,iBAAO,CAAC,yCAAyC,CAAC,CAAC;AAEhF,4BAAoB,GAAG,IAAI,iBAAO,CAAC,uCAAuC,CAAC,CAAC;AAE5E,iBAAS,GAAG,IAAI,aAAK,CAAC,oCAAoC,CAAC,CAAC;AAE5D,gBAAQ,GAAG,IAAI,aAAK,CAAC,mCAAmC,CAAC,CAAC;AAE1D,eAAO,GAAG,IAAI,aAAK,CAAC,kCAAkC,CAAC,CAAC;AAExD,eAAO,GAAG,IAAI,aAAK,CAAC,kCAAkC,CAAC,CAAC;AAExD,cAAM,GAAG,IAAI,eAAM,CAAC,gBAAgB,EAAE;IACjD,oBAAY;IACZ,oBAAY;IACZ,mBAAW;IACX,sBAAc;IACd,YAAI;IACJ,sBAAc;IACd,0BAAkB;IAClB,4BAAoB;IACpB,0BAAkB;IAClB,8BAAsB;IACtB,4BAAoB;IACpB,iBAAS;IACT,gBAAQ;IACR,eAAO;IACP,eAAO;CACR,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDH,2CAAoD;AAEpD,qCAA2C;AAC3C,uCAAgD;AAChD,uCAAwD;AACxD,6CAC8D;AAC9D,sCAAiD;AACjD,qCAA+C;AAC/C,4DAAyF;AACzF,6DAA2F;AAC3F,sCAA4C;AAC5C,sDAA0E;AAC1E,8CAA4D;AAC5D,uCAA6D;AAC7D,uCAA4C;AAC5C,uCAA+C;AAC/C,+CAAiE;AAEjE,qCAAwC;AACxC,qCAA6C;AAC7C,6CAAyD;AAMzD;IAA2B,yBAAU;IAoBnC,eAA2D,2BAAwD,EACvD,4BAA0D,EACjE,qBAA4C,EACpD,aAA4B,EAClC,UAAkB,EACnB,MAAc,EACd,MAAc,EACL,OAAwB,EACnC,IAAU,EACF,UAAwB;QATpE,YAUE,iBAAO,SACR;QAX0D,iCAA2B,GAA3B,2BAA2B,CAA6B;QACvD,kCAA4B,GAA5B,4BAA4B,CAA8B;QACjE,2BAAqB,GAArB,qBAAqB,CAAuB;QACpD,mBAAa,GAAb,aAAa,CAAe;QAClC,gBAAU,GAAV,UAAU,CAAQ;QACnB,YAAM,GAAN,MAAM,CAAQ;QACd,YAAM,GAAN,MAAM,CAAQ;QACL,aAAO,GAAP,OAAO,CAAiB;QACnC,UAAI,GAAJ,IAAI,CAAM;QACF,gBAAU,GAAV,UAAU,CAAc;;IAEpE,CAAC;IAfD,sBAAW,2BAAQ;aAAnB,cAAiC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;;;OAAA;IAEnE,sBAAW,4BAAS;aAApB,cAAiC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;;;OAAA;IAenD,qBAAK,GAAZ;QACE,iBAAM,KAAK,WAAE,CAAC;QACd,IAAI,CAAC,UAAU,GAAG,IAAI,eAAM,CAAC,SAAS,CAAC,CAAC;QACxC,IAAI,CAAC,WAAW,GAAG,IAAI,WAAI,CAAkB,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,GAAG,eAAM,CAAC,GAAG,EAAE,CAAC;IAC/B,CAAC;IAEM,qBAAK,GAAZ;QAAA,iBASC;QARC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,MAAM,CAAC;QACT,CAAC;QAED,iBAAM,KAAK,WAAE,CAAC;QACd,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,QAAQ,EAAE,EAAf,CAAe,CAAC,CAAC;QAChF,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC5C,CAAC;IAEM,uBAAO,GAAd;QACE,iBAAM,OAAO,WAAE,CAAC;QAEhB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,oBAAU,IAAI,iBAAU,CAAC,OAAO,EAAE,EAApB,CAAoB,CAAC,CAAC;YACrE,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;QACxC,CAAC;QAED,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;QAEzB,eAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC1B,OAAO,IAAI,CAAC,QAAQ,CAAC;QAErB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAEM,mBAAG,GAAV,UAAW,UAAsB,EAAE,EAAW;QAC5C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC3C,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;YAC3B,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QACzB,CAAC;QAED,EAAE,CAAC,CAAC,UAAU,YAAY,eAAM,CAAC,CAAC,CAAC;YACjC,yBAAU,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QACvC,CAAC;QAED,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACP,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACzC,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAEM,sBAAM,GAAb,UAAc,UAAsB;QAElC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QAEvB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAE9C,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,EAAE,CAAC,CAAC,UAAU,YAAY,eAAM,CAAC,CAAC,CAAC;YACjC,8BAAe,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QAC5C,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAEM,mBAAG,GAAV,UAAW,UAAsB;QAC/B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACpD,CAAC;IAEY,oBAAI,GAAjB;;;;4BACE,WAAM,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE;;wBAA5B,SAA4B,CAAC;;;;;KAC9B;IAEM,2BAAW,GAAlB;QACE,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,oBAAU,IAAI,iBAAU,CAAC,WAAW,EAAE,EAAxB,CAAwB,CAAC,CAAC;QACzE,IAAI,CAAC,2BAA2B,CAAC,WAAW,EAAE,CAAC;QAC/C,IAAI,CAAC,4BAA4B,CAAC,OAAO,CAAC,IAAI,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAC;IACpF,CAAC;IAEM,sBAAM,GAAb;QAAA,iBAKC;QAJC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,oBAAU,IAAI,iBAAU,CAAC,MAAM,EAAE,EAAnB,CAAmB,CAAC,CAAC;QACpE,IAAI,CAAC,2BAA2B,CAAC,MAAM,EAAE,CAAC;QAC1C,IAAI,CAAC,4BAA4B,CAAC,OAAO,CAAC,IAAI,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAC;QAClF,eAAK,CAAC,eAAK,EAAE,cAAM,YAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAApB,CAAoB,CAAC,CAAC;IAC3C,CAAC;IAEM,0BAAU,GAAjB;QACE,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,oBAAU,IAAI,iBAAU,CAAC,UAAU,EAAE,EAAvB,CAAuB,CAAC,CAAC;IAC1E,CAAC;IAEM,yBAAS,GAAhB;QACE,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,oBAAU,IAAI,iBAAU,CAAC,SAAS,EAAE,EAAtB,CAAsB,CAAC,CAAC;QAIvE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAA3B,CAA2B,CAAC,CAAC;IAC/D,CAAC;IAEM,sBAAM,GAAb,UAAc,GAA6B,EAAE,KAAa,EAAE,MAAc;QAA1E,iBASC;QAPC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QAClD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAM,IAAI,YAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,KAAI,CAAC,WAAW,CAAC,EAAnD,CAAmD,CAAC,CAAC;QACpF,eAAK,CAAC,uBAAa,EAAE,cAAM,YAAI,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAM,IAAI,YAAI,CAAC,2BAA2B,CAAC,WAAW,CAAC,GAAG,EAAE,MAAM,CAAC,EAAzD,CAAyD,CAAC,EAAzF,CAAyF,CAAC,CAAC;QACtH,eAAK,CAAC,eAAK,EAAE;YACX,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACxB,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,0BAAU,GAAjB;QACE,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,oBAAU,IAAI,iBAAU,CAAC,UAAU,EAAE,EAAvB,CAAuB,CAAC,CAAC;QAIxE,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,CAAC;IACvC,CAAC;IAEM,wBAAQ,GAAf;QACE,MAAM,CAAC,WAAS,IAAI,CAAC,IAAI,MAAG,CAAC;IAC/B,CAAC;IAES,2BAAW,GAArB,UAAsB,GAA6B;QACjD,IAAM,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;QAC3D,IAAM,GAAG,GAAG,CAAC,CAAC,IAAI,GAAG,SAAS,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;QAElD,GAAG,CAAC,IAAI,EAAE,CAAC;QACX,GAAG,CAAC,SAAS,GAAG,aAAK,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;QAE1C,IAAM,aAAa,GAAG,gBAAc,SAAW,CAAC;QAChD,IAAM,cAAc,GAAG,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;QAC5D,GAAG,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,cAAc,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QAEpF,IAAM,OAAO,GAAG,UAAQ,GAAK,CAAC;QAC9B,IAAM,QAAQ,GAAG,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;QAChD,GAAG,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QAExE,IAAM,kBAAkB,GAAG,aAAW,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC,UAAK,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAG,CAAC;QACxH,IAAM,mBAAmB,GAAG,GAAG,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC;QACtE,GAAG,CAAC,QAAQ,CAAC,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,mBAAmB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QAE9F,IAAM,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,KAAK,EAAE,CAAC;QAClE,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;QAC7D,IAAM,iBAAiB,GAAG,YAAU,aAAa,CAAC,CAAC,UAAK,aAAa,CAAC,CAAG,CAAC;QAC1E,IAAM,kBAAkB,GAAG,GAAG,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC;QACpE,GAAG,CAAC,QAAQ,CAAC,iBAAiB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QAE5F,GAAG,CAAC,OAAO,EAAE,CAAC;IAChB,CAAC;IAES,wBAAQ,GAAlB;QACE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC5C,CAAC;IA9LU,KAAK;QADjB,aAAK,EAAE;QAqBO,0BAAM,CAAC,yDAA2B,CAAC;QACnC,0BAAM,CAAC,2DAA4B,CAAC;QACpC,0BAAM,CAAC,6CAAqB,CAAC;QAC7B,0BAAM,CAAC,6BAAa,CAAC;QACrB,0BAAM,CAAC,mBAAU,CAAC;QAClB,0BAAM,CAAC,eAAM,CAAC;QACd,0BAAM,CAAC,eAAM,CAAC;QACd,0BAAM,CAAC,iCAAe,CAAC;QACvB,0BAAM,CAAC,WAAI,CAAC;QACZ,0BAAM,CAAC,2BAAY,CAAC;yEALkB,eAAM;OAxB9C,KAAK,CAgMjB;IAAD,YAAC;CAAA,CAhM0B,uBAAU,GAgMpC;AAhMY,sBAAK;;;;;;;;;;ACzBlB;IAME,oBAAmB,GAAW,EACX,GAAW;QADX,QAAG,GAAH,GAAG,CAAQ;QACX,QAAG,GAAH,GAAG,CAAQ;QALtB,gBAAW,GAAY,KAAK,CAAC;IAKJ,CAAC;IAHlC,sBAAI,kCAAU;aAAd,cAA4B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;;;OAAA;IAK/C,6BAAQ,GAAf,UAAgB,OAAmB;QACjC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;IAC1D,CAAC;IAEM,+BAAU,GAAjB,UAAkB,OAAmB;QACnC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,CAAC,CAAC;QACX,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;IAClF,CAAC;IAEM,4BAAO,GAAd;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;IAEM,0BAAK,GAAZ,UAAa,GAAe,EAAE,GAAe;QAAhC,6BAAe;QAAE,6BAAe;QAC3C,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;IAEM,6BAAQ,GAAf;QACE,MAAM,CAAC,iBAAe,IAAI,CAAC,GAAG,UAAK,IAAI,CAAC,GAAG,MAAG,CAAC;IACjD,CAAC;IAEH,iBAAC;AAAD,CAAC;AAlCY,gCAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFvB,kDAAoE;AACpE,qCAA6C;AAC7C,qCAA+C;AAG/C;IAA2C,yCAAiB;IAD5D;QAAA,qEA+DC;QA5DQ,UAAI,GAAG,EAAE,CAAC;QAIV,eAAS,GAAoB,aAAK,CAAC,KAAK,CAAC;QAEzC,cAAQ,GAAG,EAAE,CAAC;QAEd,eAAS,GAAG,CAAC,CAAC;QAEd,gBAAU,GAAG,OAAO,CAAC;QAErB,gBAAU,GAAG,GAAG,CAAC;QAEjB,eAAS,GAAmC,EAAE,CAAC;QAE/C,iBAAW,GAA6B,EAAE,CAAC;QAE1C,iBAAW,GAAG,CAAC,CAAC;;IA0C1B,CAAC;IAxCQ,sCAAM,GAAb;QACE,iBAAM,MAAM,WAAE,CAAC;QAGf,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAG,IAAI,CAAC,SAAS,SAAI,IAAI,CAAC,WAAW,SAAI,IAAI,CAAC,UAAU,SAAI,IAAI,CAAC,QAAQ,WAAM,IAAI,CAAC,UAAY,EAAC,IAAI,EAAE,CAAC;QAExH,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAIf,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC;QAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC;QAEzD,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAGhD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;IACrC,CAAC;IAEM,sCAAM,GAAb;QACE,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACrB,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAG3D,IAAI,CAAC,GAAG,CAAC,IAAI,GAAM,IAAI,CAAC,SAAS,SAAI,IAAI,CAAC,WAAW,SAAI,IAAI,CAAC,UAAU,SAAI,IAAI,CAAC,QAAQ,WAAM,IAAI,CAAC,UAAY,CAAC;QAEjH,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACnB,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC7C,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5C,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACrB,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YACjD,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAC/B,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9C,CAAC;IACH,CAAC;IA5DU,qBAAqB;QADjC,aAAK,EAAE;OACK,qBAAqB,CA8DjC;IAAD,4BAAC;CAAA,CA9D0C,qCAAiB,GA8D3D;AA9DY,sDAAqB;;;;;;;;;;;;;;;;;;;ACHlC;IAEE,cAAmB,KAAa,EACb,GAAW;QADX,UAAK,GAAL,KAAK,CAAQ;QACb,QAAG,GAAH,GAAG,CAAQ;IAAG,CAAC;IAElC,sBAAW,uBAAK;aAAhB;YACE,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnE,CAAC;;;OAAA;IAED,sBAAW,2BAAS;aAApB;YACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAClD,CAAC;;;OAAA;IAED,sBAAW,wBAAM;aAAjB;YACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzC,CAAC;;;OAAA;IAEM,wBAAS,GAAhB;QACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACzC,CAAC;IAEM,2BAAY,GAAnB;QACE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,CAAC;IAC3D,CAAC;IAQM,2BAAY,GAAnB,UAAoB,KAAa,EAAE,IAAa;QAC9C,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACb,KAAK,GAAG;gBACN,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC5D,KAAK,CAAC;YACR,KAAK,GAAG;gBACN,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC9D,KAAK,CAAC;YACR;gBACE,KAAK,CAAC;QACV,CAAC;IACH,CAAC;IAKM,uBAAQ,GAAf,UAAgB,KAAa,EAAE,SAAwB;QAAxB,4CAAwB;QACrD,IAAM,GAAG,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACnC,IAAM,GAAG,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAEnC,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACtC,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAEtC,IAAM,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAEpC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACnC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBACd,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClD,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACrD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBACd,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClD,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACrD,CAAC;IACH,CAAC;IAEM,uBAAQ,GAAf;QACE,MAAM,CAAC,WAAS,IAAI,CAAC,KAAK,YAAO,IAAI,CAAC,GAAG,MAAG,CAAC;IAC/C,CAAC;IACH,WAAC;AAAD,CAAC;AA1EY,oBAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFjB,0CAAoD;AACpD,kDAAqE;AAErE,sCAA4C;AAC5C,qCAAwC;AACxC,oCAAsC;AACtC,2CAAoD;AACpD,mDAAuE;AACvE,sCAAiD;AAEjD,wDAAiF;AACjF,oCAAiD;AAMjD,iBAAU,CAAC,cAAM,8BAAU,EAAV,CAAU,CAAC,CAAC;AAE7B;IAA8C,4CAAiB;IAkB7D,kCAAY,IAAgB,EACsB,kBAAsC;QADxF,YAEE,kBAAM,IAAI,CAAC,SACZ;QAFiD,wBAAkB,GAAlB,kBAAkB,CAAoB;QAdjF,YAAM,GAAa,EAAE,CAAC;QAEV,uBAAiB,GAAa,EAAE,CAAC;QACjC,qBAAe,GAAa,EAAE,CAAC;QAC/B,sBAAgB,GAAW,EAAE,CAAC;;IAYjD,CAAC;IAPD,sBAAW,sDAAgB;aAA3B,cAAuD,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;;;OAAA;IACvF,sBAAW,oDAAc;aAAzB,cAAqD,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;;;OAAA;IACnF,sBAAW,qDAAe;aAA1B,cAAoD,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;;;OAAA;IAO5E,8CAAW,GAAlB;QACE,iBAAM,WAAW,WAAE,CAAC;QACpB,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAEM,4CAAS,GAAhB;QAAA,iBAwCC;QAvCC,IAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;QACxD,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QACjC,IAAM,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;QAEnD,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;YACb,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,eAAM,EAAE,CAAC,CAAC;gBAC1C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,eAAM,EAAE,CAAC,CAAC;gBACxC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,WAAI,CAAC,IAAI,eAAM,EAAE,EAAE,IAAI,eAAM,EAAE,CAAC,CAAC,CAAC;YACnE,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;YACxC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;QACzC,CAAC;QAED,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,KAAK,IAAK,YAAK,CAAC,IAAI,CAAC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAA9B,CAA8B,CAAC,CAAC;QACjF,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,eAAK,IAAI,oBAAa,CAAC,eAAe,CAAC,KAAK,CAAC,EAApC,CAAoC,CAAC,CAAC;QAE9E,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;YAC/B,IAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YACrC,IAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;YACnD,IAAM,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACrC,IAAM,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC3B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACpB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACpB,CAAC;QAGD,IAAM,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC,CAAC,CAAC,EAAH,CAAG,CAAC,CAAC;QAC/C,IAAM,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC,CAAC,CAAC,EAAH,CAAG,CAAC,CAAC;QAC/C,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,CAAC,CAAC;QAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,CAAC,CAAC;QAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,CAAC,CAAC;QAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,CAAC,CAAC;QAE5B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IAClE,CAAC;IAMM,0CAAO,GAAd,UAAe,OAA0B;QACvC,EAAE,CAAC,CAAC,OAAO,YAAY,wBAAwB,CAAC,CAAC,CAAC;YAChD,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAC/D,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,YAAY,iDAAuB,CAAC,CAAC,CAAC;YACtD,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAC9D,CAAC;IACH,CAAC;IAMM,2CAAQ,GAAf,UAAgB,KAAa;QAC3B,IAAM,GAAG,GAAG,IAAI,SAAG,CAAC,KAAK,EAAE,eAAM,CAAC,KAAK,CAAC,CAAC;QACzC,IAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,IAAI,IAAK,UAAG,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,EAAxC,CAAwC,EAAE,CAAC,CAAC,CAAC;QACvG,MAAM,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;IACzB,CAAC;IAMM,0CAAO,GAAd,UAAe,GAAQ;QACrB,IAAI,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC;QACnC,IAAI,WAAW,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,cAAI;YAChC,IAAM,QAAQ,GAAG,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACrC,EAAE,CAAC,CAAC,QAAQ,GAAG,CAAC,IAAI,QAAQ,GAAG,WAAW,CAAC,CAAC,CAAC;gBAC3C,WAAW,GAAG,QAAQ,CAAC;gBACvB,WAAW,GAAG,KAAK,CAAC;YACtB,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;YAChB,MAAM,CAAC;QACT,CAAC;QAED,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IACnC,CAAC;IAMM,0CAAO,GAAd,UAAe,IAAY;QACzB,IAAI,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC;QAC3B,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC;QAC5B,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,eAAK;YAClC,IAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAC1B,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACvB,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,uBAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAClC,CAAC;IAMM,mDAAgB,GAAvB,UAAwB,SAAiB;QACvC,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC;QAC5B,IAAI,OAAO,GAAG,CAAC,CAAC,CAAC;QACjB,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,KAAK;YAC1C,IAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;gBACd,GAAG,GAAG,GAAG,CAAC;gBACV,OAAO,GAAG,KAAK,CAAC;YAClB,CAAC;QACH,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;IACjD,CAAC;IAjJU,wBAAwB;QAmBtB,0BAAM,CAAC,uCAAkB,CAAC;yCADrB,uBAAU;OAlBjB,wBAAwB,CAmJpC;IAAD,+BAAC;CAAA,CAnJ6C,qCAAiB,GAmJ9D;AAnJY,4DAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBrC,sCAAiD;AACjD,uCAA+C;AAC/C,0CAAkD;AAClD,mDAAuE;AACvE,sCAA4C;AAG5C,2CAAoD;AACpD,6CAA2D;AAC3D,4DAAyF;AACzF,mDAAuE;AACvE,wCAAuC;AASvC;IAAuC,qCAAS;IAAhD;QAAA,qEAkHC;QA5GQ,YAAM,GAAW,IAAI,eAAM,EAAE,CAAC;QAK9B,YAAM,GAAW,IAAI,eAAM,EAAE,CAAC;QAK9B,WAAK,GAAW,CAAC,CAAC;QAIlB,iBAAW,GAAW,GAAG,CAAC;QAE1B,cAAQ,GAAW,IAAI,CAAC;QAExB,iBAAW,GAAY,KAAK,CAAC;QAE7B,cAAQ,GAAY,KAAK,CAAC;QAEjB,UAAI,GAAiB,2BAAY,CAAC,MAAM,CAAC;QAuCjD,iBAAW,GAAG,IAAI,iBAAO,EAAoB,CAAC;QAE9C,iBAAW,GAAG,IAAI,iBAAO,EAAqB,CAAC;;IA6CzD,CAAC;IArEQ,mCAAO,GAAd,UAAe,OAA0B,IAAgC,MAAM,CAAC,CAAC,CAAC;IAK3E,oCAAQ,GAAf,UAAgB,KAAa,IAAa,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;IAKlD,mCAAO,GAAd,UAAe,GAAQ,IAAsB,MAAM,CAAC,CAAC,CAAC;IAK/C,mCAAO,GAAd,UAAe,IAAY,IAAgB,MAAM,CAAC,IAAI,uBAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAKlE,4CAAgB,GAAvB,UAAwB,SAAiB,IAAY,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAMzF,sBAAW,yCAAU;aAArB,cAAwD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAEjG,sBAAW,yCAAU;aAArB,cAAyD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAE3F,iCAAK,GAAZ;QACE,iBAAM,KAAK,WAAE,CAAC;QACc,IAAK,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,uCAAkB,CAAC,CAAC;QACpF,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACO,IAAK,CAAC,IAAI,GAAG,2BAAY,CAAC,SAAS,CAAC;gBAChE,IAAI,CAAC,SAAS,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;YACrC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACsB,IAAK,CAAC,IAAI,GAAG,2BAAY,CAAC,SAAS,CAAC;YAClE,CAAC;QACH,CAAC;QAE2B,IAAK,CAAC,SAAS,GAAuB,IAAI,CAAC,YAAY,CAAC,uCAAkB,CAAC,CAAC;QAKxG,IAAI,CAAC,2BAA2B,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC/C,CAAC;IAEM,qCAAS,GAAhB,UAAiB,gBAAkC;QACjD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC1C,CAAC;IAEM,qCAAS,GAAhB,UAAiB,KAAwB;QACvC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAEM,iCAAK,GAAZ;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,iBAAO,EAAoB,CAAC;QACnD,IAAI,CAAC,WAAW,GAAG,IAAI,iBAAO,EAAqB,CAAC;IACtD,CAAC;IAEM,mCAAO,GAAd;QACE,iBAAM,OAAO,WAAE,CAAC;QAChB,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IAxED;QADC,eAAM,CAAC,yDAA2B,CAAC;;0EAC6B;IA0EnE,wBAAC;CAAA,CAlHsC,qBAAS,GAkH/C;AAlHY,8CAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpB9B,0CAAoD;AACpD,kDAAqE;AAIrE,2CAAoD;AACpD,mDAAuE;AACvE,sCAAiD;AACjD,oCAAiD;AACjD,yDAAmF;AAYnF,iBAAU,CAAC,cAAM,8BAAU,EAAV,CAAU,CAAC,CAAC;AAE7B;IAA6C,2CAAiB;IAS5D,iCAAY,IAAgB,EACoB,kBAAsC;QADtF,YAEE,kBAAM,IAAI,CAAC,SACZ;QAF+C,wBAAkB,GAAlB,kBAAkB,CAAoB;QAR/E,YAAM,GAAW,CAAC,CAAC;QAKV,sBAAgB,GAAG,CAAC,CAAC;;IAKrC,CAAC;IAEM,6CAAW,GAAlB;QACE,iBAAM,WAAW,WAAE,CAAC;QAEpB,IAAM,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QACpC,IAAK,CAAC,gBAAgB,GAAG,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAE/E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC1E,CAAC;IAMM,yCAAO,GAAd,UAAe,OAA0B;QACvC,EAAE,CAAC,CAAC,OAAO,YAAY,uBAAuB,CAAC,CAAC,CAAC;YAC/C,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAC7D,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,YAAY,mDAAwB,CAAC,CAAC,CAAC;YACvD,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAC9D,CAAC;IACH,CAAC;IAMM,0CAAQ,GAAf,UAAgB,KAAa;QAC3B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC;IACvE,CAAC;IAOM,yCAAO,GAAd,UAAe,GAAQ;QACrB,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAC7B,IAAM,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAChC,IAAM,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC;QACrB,IAAM,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;QACxB,IAAM,EAAE,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACjC,IAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEtG,EAAE,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;YACrB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAEnB,EAAE,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;YACrB,IAAM,EAAE,GAAG,CAAC,GAAG,YAAY,CAAC;YAC5B,IAAM,EAAE,GAAG,CAAC,GAAG,YAAY,CAAC;YAC5B,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QACvB,CAAC;QAED,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC;IAMM,yCAAO,GAAd,UAAe,IAAY;QACzB,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACzC,IAAM,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,GAAG,IAAI,CAAC,gBAAgB,EAAE,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC1E,MAAM,CAAC,IAAI,uBAAU,CAAC,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,EAAE,CAAC;IACxD,CAAC;IAMM,kDAAgB,GAAvB,UAAwB,SAAiB;QACvC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;IACvG,CAAC;IAxFU,uBAAuB;QAUrB,0BAAM,CAAC,uCAAkB,CAAC;yCADrB,uBAAU;OATjB,uBAAuB,CA0FnC;IAAD,8BAAC;CAAA,CA1F4C,qCAAiB,GA0F7D;AA1FY,0DAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBpC,0CAAoD;AACpD,sCAA4C;AAC5C,qCAAwC;AACxC,oCAAiD;AACjD,yDAAmF;AACnF,sCAAiD;AACjD,mDAAuE;AASvE,iBAAU,CAAC,cAAM,8BAAU,EAAV,CAAU,CAAC,CAAC;AAE7B;IAA0C,wCAAwB;IAIhE,8BAAY,IAAgB,EACY,kBAAsC;QAD9E,YAEE,kBAAM,IAAI,EAAE,kBAAkB,CAAC,SAOhC;QAXM,UAAI,GAAW,IAAI,eAAM,EAAE,CAAC;QAKjC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,eAAM,EAAE,CAAC,CAAC;YAC/B,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,eAAM,EAAE,CAAC,CAAC;YAC1C,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,eAAM,EAAE,CAAC,CAAC;YACxC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,WAAI,CAAC,IAAI,eAAM,EAAE,EAAE,IAAI,eAAM,EAAE,CAAC,CAAC,CAAC;QACnE,CAAC;;IACH,CAAC;IAMM,wCAAS,GAAhB;QACE,IAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;QAExD,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;QACpC,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;QAEpC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAE,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAE,SAAS,EAAG,SAAS,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,EAAG,SAAS,CAAC,CAAC;QAE7C,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC;QACxD,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAE,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC;QACxD,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAE,SAAS,EAAG,SAAS,CAAC,CAAC;QACxD,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,EAAG,SAAS,CAAC,CAAC;QACxD,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,eAAK,IAAI,oBAAa,CAAC,eAAe,CAAC,KAAK,CAAC,EAApC,CAAoC,CAAC,CAAC;QAE9E,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YAC3B,IAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YACrC,IAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC/C,IAAM,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACrC,IAAM,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC3B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACpB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACpB,CAAC;QAGD,IAAM,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC,CAAC,CAAC,EAAH,CAAG,CAAC,CAAC;QAC/C,IAAM,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC,CAAC,CAAC,EAAH,CAAG,CAAC,CAAC;QAC/C,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,CAAC,CAAC;QAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,CAAC,CAAC;QAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,CAAC,CAAC;QAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,CAAC,CAAC,CAAC;QAE5B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IAClE,CAAC;IAxDU,oBAAoB;QAKlB,0BAAM,CAAC,uCAAkB,CAAC;yCADrB,uBAAU;OAJjB,oBAAoB,CA0DhC;IAAD,2BAAC;CAAA,CA1DyC,mDAAwB,GA0DjE;AA1DY,oDAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBjC,sCAAiD;AACjD,+CAAiE;AACjE,0CAAkD;AAClD,0CAAoD;AAEpD,oCAAiD;AAEjD,iBAAU,CAAC,cAAM,8BAAU,EAAV,CAAU,CAAC,CAAC;AAE7B;IAA0C,wCAAS;IAkDjD,8BAAY,IAAgB,EACiB,OAAwB;QADrE,YAEE,kBAAM,IAAI,CAAC,SACZ;QAF4C,aAAO,GAAP,OAAO,CAAiB;QA7C7D,aAAO,GAAG,CAAC,CAAC;QAEZ,WAAK,GAAG,KAAK,CAAC;QAEd,eAAS,GAAG,KAAK,CAAC;QAElB,gBAAU,GAAG,KAAK,CAAC;QAKnB,uBAAiB,GAAG,CAAC,CAAC;QAKtB,kBAAY,GAAG,CAAC,CAAC;QAEjB,mBAAa,GAAG,CAAC,CAAC;;IA6B1B,CAAC;IAzBD,sBAAW,0CAAQ;aAAnB,cAAiC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;;;OAAA;IAEzD,sBAAW,2CAAS;aAApB,cAAkC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;;;OAAA;IAE3D,sBAAW,8CAAY;aAAvB,cAAoC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;aAEhE,UAAwB,KAAa,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;;OAFP;IAIhE,sBAAW,wCAAM;aAAjB,cAA8B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;aAEpD,UAAkB,KAAa,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;;OAFP;IAIpD,sBAAW,sCAAI;aAAf,cAA6B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aAEjD,UAAgB,KAAc,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;;OAFP;IAIjD,sBAAW,wCAAM;aAAjB,cAAuC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;aAE7D,UAAkB,KAAsB;YACtC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,CAAC;;;OAJ4D;IAWtD,oCAAK,GAAZ;QACE,iBAAM,KAAK,WAAE,CAAC;QAEd,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACnE,CAAC;IAEM,qCAAM,GAAb;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5C,MAAM,CAAC;QACT,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACpB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACjE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACtE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IACzB,CAAC;IAEM,oCAAK,GAAZ;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACrB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5B,CAAC;IAEM,mCAAI,GAAX;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5C,MAAM,CAAC;QACT,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,MAAM,CAAC;QACT,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACjE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IACtC,CAAC;IAEM,mCAAI,GAAX;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACrB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5B,CAAC;IAEM,8CAAe,GAAtB,UAAuB,KAAa;QAClC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAE3B,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,KAAK,GAAG,KAAK,CAAC;QAC/C,CAAC;IACH,CAAC;IAEM,wCAAS,GAAhB,UAAiB,KAAa;QAC5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QAErB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnC,CAAC;IACH,CAAC;IAEM,sCAAO,GAAd,UAAe,KAAc;QAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QAEnB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,KAAK,CAAC;QACjC,CAAC;IACH,CAAC;IAEO,kDAAmB,GAA3B;QACE,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,YAAY,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QACjF,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC;IAC/B,CAAC;IAEO,iDAAkB,GAA1B,UAA2B,GAAiB,EAAE,MAAmB;QAAjE,iBA6BC;QA5BC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,UAAU,EAAE,CAAC;YAEjC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzC,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;QAWxC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,kBAAkB,EAAE,CAAC;QAM7C,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACzC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC;QAClC,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;QACpC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC;QAC1D,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,WAAC,IAAI,YAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAzB,CAAyB,CAAC;IAC7D,CAAC;IAEO,gDAAiB,GAAzB,UAA0B,CAAwB;QAChD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC1B,CAAC;IAxLU,oBAAoB;QAmDlB,0BAAM,CAAC,iCAAe,CAAC;yCADlB,uBAAU;OAlDjB,oBAAoB,CA0LhC;IAAD,2BAAC;CAAA,CA1LyC,qBAAS,GA0LlD;AA1LY,oDAAoB;;;;;;;;;;;;;;;;;ACTjC,IAAY,YAIX;AAJD,WAAY,YAAY;IACtB,mDAAM;IACN,yDAAS;IACT,yDAAS;AACX,CAAC,EAJW,YAAY,GAAZ,oBAAY,KAAZ,oBAAY,QAIvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJD,yCAAoD;AACpD,sCAAiD;AACjD,+CAAiE;AAEjE;IAA2B,yBAAqB;IAW9C,eAAY,IAAY;QAAxB,YACE,kBAAM,IAAI,CAAC,SAEZ;QATO,eAAS,GAAG,CAAC,CAAC;QAIN,aAAO,GAAiB,KAAI,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;QAIrE,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;;IACrC,CAAC;IAPD,sBAAW,2BAAQ;aAAnB,cAAgC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;;;OAAA;IASxC,2BAAW,GAA3B,UAA4B,IAAS;;;;gBACnC,WAAO,IAAI,OAAO,CAAc,UAAC,OAAO,EAAE,MAAM;wBAC9C,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC;4BAClB,MAAM,CAAC,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC,CAAC;4BAClD,MAAM,CAAC;wBACT,CAAC;wBAED,KAAI,CAAC,OAAO,CAAC,eAAe,CAC1B,IAAI,EACJ,qBAAW;4BACT,KAAI,CAAC,SAAS,GAAG,WAAW,CAAC,QAAQ,CAAC;4BACtC,OAAO,CAAC,WAAW,CAAC,CAAC;wBACvB,CAAC,EACD,MAAM,CACP,CAAC;oBACJ,CAAC,CAAC,EAAC;;;KACJ;IA7BD;QADC,eAAM,CAAC,iCAAe,CAAC;;0CACS;IA+BnC,YAAC;CAAA,CAlC0B,mBAAQ,GAkClC;AAlCY,sBAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJlB,wBAAuB;AACvB,uCAM4C;AAC5C,uCAA+C;AAG/C,aAAG,CAAC,eAAK,CAAC,CAAC;AAQX,2CAAwC;AACxC,yCAAoC;AAMpC,IAAM,MAAM,GAAW,oBAAU,CAAC,eAAM,CAAC,CAAC;AAC1C,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAEzB,IAAM,SAAS,GAAG,qBAAW,CAAC,qBAAS,CAAC,CAAC;AACzC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAM,CAAC,CAAC;AAEhC,mBAAS,CAAC,SAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AChCrB,qCAA+C;AAG/C,uCAA6C;AAC7C,sCAA0C;AAC1C,sCAA4C;AAE5C,6CAA4C;AAC5C,4CAA0C;AAC1C,wCAAkC;AAClC,uCAAgC;AAChC,sCAA8B;AAC9B,sCAA8B;AAC9B,oCAAmD;AACnD,4CAA6D;AAG7D;IAA+B,6BAAK;IAApC;;IAgDA,CAAC;IA3CQ,yBAAK,GAAZ;QAAA,iBAyCC;QAxCC,iBAAM,KAAK,WAAE,CAAC;QAEd,IAAM,UAAU,GAAG,qBAAW,CAAC,uBAAU,CAAC,CAAC;QAC3C,UAAU,CAAC,KAAK,GAAG,mBAAY,CAAC,UAAU,CAAC;QAC3C,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAErB,IAAM,IAAI,GAAG,qBAAW,CAAC,WAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,eAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEtD,IAAM,KAAK,GAAG;YACZ,qBAAW,CAAC,WAAI,CAAC;YACjB,qBAAW,CAAC,WAAI,CAAC;YACjB,qBAAW,CAAC,WAAI,CAAC;YACjB,qBAAW,CAAC,WAAI,CAAC;SAClB,CAAC;QACF,KAAK,CAAC,OAAO,CAAC,cAAI,IAAI,YAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAd,CAAc,CAAC,CAAC;QAEtC,IAAM,KAAK,GAAG,qBAAW,CAAC,aAAK,CAAC,CAAC;QACjC,KAAK,CAAC,KAAK,GAAG,mBAAY,CAAC,EAAE,CAAC;QAC9B,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,eAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;QAEvD,IAAM,MAAM,GAAG,qBAAW,CAAC,eAAM,CAAC,CAAC;QACnC,MAAM,CAAC,KAAK,GAAG,mBAAY,CAAC,EAAE,CAAC;QAC/B,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAEjB,IAAM,UAAU,GAAG,qBAAW,CAAC,uBAAU,CAAC,CAAC;QAC3C,UAAU,CAAC,KAAK,GAAG,mBAAY,CAAC,EAAE,CAAC;QACnC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAKrB,IAAM,WAAW,GAAG,qBAAW,CAAC,yBAAW,CAAC,CAAC;QAC7C,WAAW,CAAC,UAAU,GAAG,UAAU,CAAC;QACpC,WAAW,CAAC,MAAM,GAAG,MAAM,CAAC;QAC5B,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;QAC1B,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;QAC1B,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC;QACxB,WAAW,CAAC,UAAU,GAAG,UAAU,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IACxB,CAAC;IA9CU,SAAS;QADrB,aAAK,EAAE;OACK,SAAS,CAgDrB;IAAD,gBAAC;CAAA,CAhD8B,aAAK,GAgDnC;AAhDY,8BAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBtB,yBAAwC;AACxC,0CAA6C;AAC7C,0CAAoD;AACpD,qCAA+C;AAC/C,6CAAyD;AACzD,8CAA4D;AAC5D,sCAAiD;AACjD,sCAA4C;AAC5C,uCAA+C;AAE/C,uCAA4C;AAC5C,qDAAyE;AAGzE,yCAA+D;AAM/D,6CAAwD;AACxD,uCAA4C;AAK5C,IAAM,aAAa,GAAG,GAAG,CAAC;AAC1B,IAAM,gBAAgB,GAAG,GAAG,CAAC;AAE7B,IAAK,UAIJ;AAJD,WAAK,UAAU;IACb,2CAAI;IACJ,iDAAO;IACP,2CAAI;AACN,CAAC,EAJI,UAAU,KAAV,UAAU,QAId;AAGD;IAAiC,+BAAU;IAD3C;QAAA,qEAmKC;QAlJS,YAAM,GAAG,UAAU,CAAC,IAAI,CAAC;QAoBzB,mBAAa,GAAmB,EAAE,CAAC;;IA8H7C,CAAC;IA5HQ,2BAAK,GAAZ;QAAA,iBAqBC;QApBC,iBAAM,KAAK,WAAE,CAAC;QAEd,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,2CAAoB,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,oBAAS,CAAC;QAEjC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAC,CAAC,IAAK,YAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAArB,CAAqB,CAAC,CAAC,CAAC;QAEtF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,uBAAU,CAAC,KAAK,CACtC,IAAI,CAAC,YAAY,CAAC,aAAa,EAC/B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,GAAG,KAAK,GAAG,EAAb,CAAa,CAAC,CACvD,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,OAAO,EAAE,EAAd,CAAc,CAAC,CAAC,CAAC;QAKrD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK;YAC7B,WAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,KAAK,CAAC,EAAvC,CAAuC,CAAC;QAAhF,CAAgF,CACjF,CAAC;QAEF,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAEM,6BAAO,GAAd;QACE,iBAAM,OAAO,WAAE,CAAC;QAChB,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,sBAAY,IAAI,mBAAY,CAAC,WAAW,EAAE,EAA1B,CAA0B,CAAC,CAAC;QACvE,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IAC1B,CAAC;IAEM,4BAAM,GAAb;QAAA,iBAeC;QAdC,iBAAM,MAAM,WAAE,CAAC;QAEf,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK;YAI7B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACjB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/D,KAAI,CAAC,aAAa,EAAE,CAAC;oBACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,MAAM,CAAC,IAAI,CAAC;gBACd,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,+BAAS,GAAhB;QACE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QACtB,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;QACzB,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,OAAO,CAAC;QACjC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI,IAAI,WAAI,CAAC,SAAS,EAAE,EAAhB,CAAgB,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAChC,CAAC;IAEM,8BAAQ,GAAf;QACE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;QACxB,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;QAC3B,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI,IAAI,WAAI,CAAC,QAAQ,EAAE,EAAf,CAAe,CAAC,CAAC;IAC9C,CAAC;IAEM,+BAAS,GAAhB;QAAA,iBAeC;QAdC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAE5B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,eAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEzE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK;YAC7B,IAAM,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,aAAa,CAAC;YACtC,IAAM,CAAC,GAAG,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,GAAG,EAAE,CAAC;YACxE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAC/B,CAAC;IAEO,mCAAa,GAArB;QACE,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAEO,6BAAO,GAAf;QACE,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACpB,KAAK,UAAU,CAAC,IAAI;gBAClB,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,KAAK,CAAC;YACR,KAAK,UAAU,CAAC,IAAI;gBAClB,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,KAAK,CAAC;YACR,KAAK,UAAU,CAAC,OAAO,CAAC;YACxB;gBACE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;gBAChB,KAAK,CAAC;QACV,CAAC;IACH,CAAC;IAEO,2CAAqB,GAA7B,UAA8B,IAAU,EAAE,KAAa;QACrD,IAAI,SAAS,GAAG,KAAK,GAAG,CAAC,CAAC;QAE1B,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;YAClB,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QACjC,CAAC;QAED,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACvC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,aAAa,CAAC;QAC1E,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,GAAG,EAAE,CAAC;QAC1F,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAEO,mCAAa,GAArB,UAAsB,CAAoB;QACxC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC;IACH,CAAC;IA7ID;QADC,eAAM,CAAC,eAAM,CAAC;;+CACQ;IAGvB;QADC,eAAM,CAAC,2BAAY,CAAC;;qDACc;IAGnC;QADC,eAAM,CAAC,6BAAa,CAAC;;sDACe;IAGrC;QADC,eAAM,CAAC,eAAM,CAAC;;+CACQ;IAGvB;QADC,eAAM,CAAC,2BAAY,CAAC;;qDACc;IAGnC;QADC,eAAM,CAAC,eAAM,CAAC;;+CACQ;IAlCZ,WAAW;QADvB,aAAK,EAAE;OACK,WAAW,CAkKvB;IAAD,kBAAC;CAAA,CAlKgC,uBAAU,GAkK1C;AAlKY,kCAAW;;;;;;;;ACpCxB;AACA;AACA;AACA;AACA,wC;;;;;;;ACJA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,iBAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,OAAO;AAClB;AACA;AACA,WAAW,UAAU,wBAAwB,iBAAiB;AAC9D;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA,+BAA+B,2BAA2B;AAC1D,4BAA4B,2CAA2C;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,mBAAmB;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wC;;;;;;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,WAAW;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;AC9CA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;AC7IA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB;AAChB;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;AC3CA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,kCAAkC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,aAAa;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mCAAmC;AAClD;AACA,eAAe,OAAO;AACtB;AACA,eAAe,EAAE;AACjB;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA,uDAAuD,oBAAoB;AAC3E;AACA,CAAC;AACD;AACA,qC;;;;;;;AChDA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,mBAAmB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT;AACA,WAAW,0CAA0C;AACrD;AACA;AACA,WAAW,OAAO;AAClB,QAAQ,iCAAiC;AACzC,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA,4BAA4B,wCAAwC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"examples/flappy-bird.bundle.js","sourcesContent":["import { Vector } from 'Engine/Math/Vector';\n\nexport class Rect {\n\n  public get center(): Vector {\n    return new Vector(\n      this.position.x + this.width / 2,\n      this.position.y + this.height / 2\n    );\n  }\n\n  public get xMin(): number { return this.position.x; }\n\n  public get xMax(): number { return this.position.x + this.width; }\n\n  public get yMin(): number { return this.position.y; }\n\n  public get yMax(): number { return this.position.y + this.height; }\n\n  public get min(): Vector {\n    return new Vector(this.xMin, this.yMin);\n  }\n\n  public get max(): Vector {\n    return new Vector(this.xMax, this.yMax);\n  }\n\n  constructor(public position: Vector = new Vector(),\n              public width: number = 0,\n              public height: number = 0) {}\n\n  public contains(point: Vector): boolean {\n    if (point.x < this.position.x) {\n      return false;\n    }\n\n    if (point.y < this.position.y) {\n      return false;\n    }\n\n    if (point.x > this.position.x + this.width) {\n      return false;\n    }\n\n    if (point.y > this.position.y + this.height) {\n      return false;\n    }\n\n    return true;\n  }\n\n  public overlap(another: Rect): boolean {\n    if (this.xMax < another.xMin || this.xMin > another.xMax) {\n      return false;\n    }\n\n    if (this.yMax < another.yMin || this.yMin > another.yMax) {\n      return false;\n    }\n\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Math/Rect.ts","import { Resource } from 'Engine/Resource/Resource';\nimport { onceEvent } from 'Engine/Utility/DOM';\nimport { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\nimport { Inject } from 'Engine/Decorator/Inject';\n\n/**\n * Basic texture\n */\nexport class Texture extends Resource<HTMLCanvasElement> {\n\n  @Inject(BrowserDelegate)\n  private browser: BrowserDelegate;\n\n  private isDirty: boolean = false;\n\n  private source: HTMLImageElement;\n\n  private _width = 0;\n\n  private _height = 0;\n\n  public get width(): number { return this._width; }\n\n  public set width(value: number) {\n    this._width = value;\n    this.markAsDirty();\n  }\n\n  public get height(): number { return this._height; }\n\n  public set height(value: number) {\n    this._height = value;\n    this.markAsDirty();\n  }\n\n  constructor(path: string) {\n    super(path);\n  }\n\n  public async load(): Promise<void> {\n    if (this.isLoaded) {\n      return;\n    }\n\n    return new Promise<void>(resolve => {\n      const request = new Image();\n      request.onprogress = this.onprogress;\n      request.onerror = this.onerror;\n      request.onloadstart = this.onloadstart;\n      request.onload = async () => {\n        try {\n          this._data = await this.processData(request);\n          this._isLoaded = true;\n          this.onLoad.next();\n        } catch (err) {\n          this.onerror(err);\n        }\n        resolve();\n      };\n      request.src = this.path;\n    });\n  }\n\n  public clone(): Texture {\n    const texture = new Texture(this.path);\n    texture.source = this.source;\n    texture._width = this._width;\n    texture._height = this._height;\n    texture._isLoaded = this._isLoaded;\n    return texture;\n  }\n\n  public markAsDirty(): void {\n    if (this.isDirty) {\n      return;\n    }\n\n    this.isDirty = true;\n\n    if (!this.isLoaded) {\n      return;\n    }\n\n    this.processData(this.source);\n  }\n\n  protected async processData(image: HTMLImageElement): Promise<HTMLCanvasElement> {\n    const data = this.data || this.browser.createCanvas();\n    const ctx = <CanvasRenderingContext2D>data.getContext('2d');\n\n    if (this.width === 0 && this.height === 0) {\n      data.width = this._width = image.width;\n      data.height = this._height = image.height;\n    }\n\n    ctx.drawImage(\n      image,\n      0, 0,\n      image.width,\n      image.height,\n      0, 0,\n      this._width,\n      this._height\n    );\n\n    this.isDirty = false;\n\n    this.source = image;\n\n    return data;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Resource/Texture.ts","import { Subscription } from 'rxjs/Subscription';\nimport { Texture } from 'Engine/Resource/Texture';\nimport { Vector } from 'Engine/Math/Vector';\nimport { Rect } from 'Engine/Math/Rect';\nimport { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { Class } from 'Engine/Decorator/Class';\n\n@Class()\nexport class Sprite {\n\n  public pivot: Vector = new Vector(0.5, 0.5);\n\n  @Inject(BrowserDelegate)\n  private browser: BrowserDelegate;\n\n  public canvas: HTMLCanvasElement = this.browser.createCanvas();\n\n  private ctx: CanvasRenderingContext2D = this.browser.getContext(this.canvas);\n\n  private _texture: Texture;\n\n  private textureLoaded: Subscription|undefined;\n\n  get texture(): Texture { return this._texture; }\n\n  // TODO: dynamic texture\n  // set texture(texture: Texture) { this.setTexture(texture); }\n\n  get width(): number { return this.rect.width; }\n\n  get height(): number { return this.rect.height; }\n\n  constructor(texture: Texture,\n              /**\n               * Location of the Sprite on the original Texture, specified in pixels.\n               * Default, it will set to whole texture when texture loaded.\n               */\n              public rect: Rect = new Rect()) {\n    this.setTexture(texture);\n  }\n\n  public setTexture(texture: Texture): void {\n    if (this._texture === texture) {\n      return;\n    }\n\n    this._texture = texture;\n\n    if (this.textureLoaded) {\n      this.textureLoaded.unsubscribe();\n    }\n\n    if (texture.isLoaded) {\n      this.drawTexture();\n    } else {\n      this.textureLoaded = texture.onLoad$.subscribe(() => this.drawTexture());\n    }\n  }\n\n  private drawTexture(): void {\n    if (this.rect.width === 0 && this.rect.height === 0) {\n      this.rect.width = this._texture.width;\n      this.rect.height = this._texture.height;\n    }\n\n    this.canvas.width = this.rect.width;\n    this.canvas.height = this.rect.height;\n\n    if (this.textureLoaded) {\n      this.textureLoaded.unsubscribe();\n      delete this.textureLoaded;\n    }\n\n    this.ctx.clearRect(0, 0, this.rect.width, this.rect.height);\n    this.ctx.drawImage(\n      this._texture.data,\n      this.rect.position.x,\n      this.rect.position.y,\n      this.rect.width,\n      this.rect.height,\n      0, 0,\n      this.rect.width,\n      this.rect.height\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Display/Sprite.ts","import { RendererComponent } from 'Engine/Render/RendererComponent';\nimport { Sprite } from 'Engine/Display/Sprite';\nimport { UniqueComponent } from 'Engine/Decorator/UniqueComponent';\n\n@UniqueComponent()\nexport class SpriteRendererComponent extends RendererComponent {\n\n  /**\n   * The sprite to render.\n   */\n  private _sprite: Sprite|undefined;\n\n  /**\n   * Only re-render if is dirty.\n   */\n  private _isDirty = false;\n\n  get sprite(): Sprite|undefined { return this._sprite; }\n\n  set sprite(value: Sprite|undefined) {\n    this._isDirty = true;\n    this._sprite = value;\n  }\n\n  get isDirty(): boolean { return this._isDirty; }\n\n  public update(): void {\n    super.update();\n    if (this._sprite) {\n      const { width, height } = this._sprite;\n      this.canvas.width = width;\n      this.canvas.height = height;\n    }\n  }\n\n  public render(): void {\n    if (!this._sprite) {\n      return;\n    }\n\n    // if (!this._isDirty) {\n    //   return;\n    // }\n\n    const ctx = this.ctx;\n\n    const { width, height } = this.canvas;\n\n    ctx.clearRect(0, 0, width, height);\n\n    ctx.save();\n\n    ctx.drawImage(this._sprite.canvas, 0, 0);\n\n    ctx.restore();\n\n    // TODO: check texture of sprite has loaded.\n    // this._isDirty = false;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Render/SpriteRendererComponent.ts","import { GameObject } from 'Engine/Core/GameObject';\nimport { Component } from 'Engine/Core/Component';\nimport { TransformComponent } from 'Engine/Display/TransformComponent';\nimport { Vector } from 'Engine/Math/Vector';\nimport { Engine } from 'Engine/Core/Engine';\nimport { Time } from 'Engine/Time/Time';\nimport { ForceMode } from 'Engine/Physics/ForceMode';\nimport { UniqueComponent } from 'Engine/Decorator/UniqueComponent';\nimport { RequireComponent } from 'Engine/Decorator/RequireComponent';\nimport { Inject } from 'Engine/Decorator/Inject';\n\ninterface InternalRigidbodyComponent extends RigidbodyComponent {\n  motion: number;\n  inverseMass: number;\n  inverseMoi: number;\n}\n\nconst DoublePI = Math.PI * 2;\n\n@UniqueComponent()\n@RequireComponent([TransformComponent])\nexport class RigidbodyComponent extends Component {\n\n  public angularDrag: number = 0;\n\n  /**\n   * radians per second\n   */\n  public angularVelocity: number = 0;\n\n  public drag: number = 0;\n\n  public freezeRotation: boolean = false;\n\n  /**\n   * In kilogram\n   */\n  private _mass: number = 1;\n\n  public get mass(): number { return this._mass; }\n\n  public set mass(value: number) { this._mass = value; (<InternalRigidbodyComponent>this).inverseMass = 1 / value; }\n\n  public readonly inverseMass: number = 1;\n\n  /**\n   * moment of inertia\n   */\n  private _moi: number = 1000;\n\n  public get moi(): number { return this._moi; }\n\n  public set moi(value: number) { this._moi = value; (<InternalRigidbodyComponent>this).inverseMoi = 1 / value; }\n\n  public readonly inverseMoi: number = 0.001;\n\n  public maxAngularVelocity: number = Infinity;\n\n  /**\n   * pixel per second\n   */\n  public velocity: Vector = Vector.Get();\n\n  public useGravity: boolean = false;\n\n  public isSleeping: boolean = false;\n\n  public sleepThreshold: number = 1;\n\n  public readonly motion: number = 0;\n\n  private forces: Vector[] = [\n    Vector.Get(),\n    Vector.Get(),\n    Vector.Get(),\n    Vector.Get()\n  ];\n\n  private torques: number[] = [0, 0, 0, 0];\n\n  private sleepTimer: number = 0;\n\n  private transform: TransformComponent;\n\n  private lastPosition: Vector = Vector.Get();\n\n  constructor(host: GameObject,\n              @Inject(Engine) private engine: Engine,\n              @Inject(Time) private time: Time) {\n    super(host);\n  }\n\n  public start(): void {\n    super.start();\n    this.transform = <TransformComponent>this.getComponent(TransformComponent);\n  }\n\n  public addForce(force: Vector, forceMode: ForceMode = ForceMode.Force): void {\n    this.forces[forceMode].add(force);\n  }\n\n  public addTorque(torque: number, forceMode: ForceMode = ForceMode.Force): void {\n    this.torques[forceMode] += torque;\n  }\n\n  public clearForce(): void {\n    this.forces.forEach(force => force.reset());\n  }\n\n  public clearTorque(): void {\n    for (let i = 0; i < this.torques.length; i++) {\n      this.torques[i] = 0;\n    }\n  }\n\n  public sleep(): void {\n    this.isSleeping = true;\n    this.velocity.reset();\n    this.angularVelocity = 0;\n    this.clearForce();\n    this.clearTorque();\n  }\n\n  public awake(): void {\n    this.isSleeping = false;\n    this.sleepTimer = 0;\n  }\n\n  public fixedUpdate(): void {\n    super.fixedUpdate();\n\n    const deltaTimeInSecond = this.time.fixedDeltaTimeInSecond;\n\n    if (this.useGravity && !this.isSleeping) {\n      this.addForce(this.engine.gravity, ForceMode.Acceleration);\n    }\n\n    /**\n     * Force\n     * f = ma = mv/t\n     * tf = mv\n     * v = tf/m\n     */\n    this.forces[ForceMode.Force].multiply(deltaTimeInSecond * this.inverseMass);\n    this.velocity.add(this.forces[ForceMode.Force]);\n    this.forces[ForceMode.Force].reset();\n\n    /**\n     * Acceleration ignore mass.\n     */\n    this.forces[ForceMode.Acceleration].multiply(deltaTimeInSecond);\n    this.velocity.add(this.forces[ForceMode.Acceleration]);\n    this.forces[ForceMode.Acceleration].reset();\n\n    /**\n     * Impulse handle without delta time.\n     */\n    this.forces[ForceMode.Impulse].multiply(1 * this.inverseMass);\n    this.velocity.add(this.forces[ForceMode.Impulse]);\n    this.forces[ForceMode.Impulse].reset();\n\n    /**\n     * VelocityChange without delta time and mass.\n     */\n    this.velocity.add(this.forces[ForceMode.VelocityChange]);\n    this.forces[ForceMode.VelocityChange].reset();\n\n    /**\n     * Torque\n     */\n    this.torques[ForceMode.Force] *= this.inverseMoi * deltaTimeInSecond;\n    this.angularVelocity += this.torques[ForceMode.Force];\n    this.torques[ForceMode.Force] = 0;\n\n    this.torques[ForceMode.Acceleration] *= deltaTimeInSecond;\n    this.angularVelocity += this.torques[ForceMode.Acceleration];\n    this.torques[ForceMode.Acceleration] = 0;\n\n    this.torques[ForceMode.Impulse] *= this.inverseMoi;\n    this.angularVelocity += this.torques[ForceMode.Impulse];\n    this.torques[ForceMode.Impulse] = 0;\n\n    this.angularVelocity += this.torques[ForceMode.VelocityChange];\n    this.torques[ForceMode.VelocityChange] = 0;\n\n    this.checkSleep(deltaTimeInSecond);\n\n    // update position\n    if (!this.velocity.isZero) {\n      this.velocity.multiply(Math.max(0, 1 - this.drag * deltaTimeInSecond));\n      const velocity = this.velocity.clone().multiply(deltaTimeInSecond);\n      this.transform.position.add(velocity);\n      velocity.destroy();\n    }\n\n    // update rotation\n    if (this.freezeRotation) {\n      this.angularVelocity = 0;\n    } else {\n      if (Math.abs(this.angularVelocity) > 1e-6) {\n        this.angularVelocity *= Math.max(0, 1 - this.angularDrag * deltaTimeInSecond);\n\n        if (this.angularVelocity > this.maxAngularVelocity) {\n          this.angularVelocity = this.maxAngularVelocity;\n        }\n\n        this.transform.rotation += this.angularVelocity * deltaTimeInSecond;\n        this.transform.rotation = this.transform.rotation % DoublePI;\n      }\n    }\n\n    // update motion\n    (<InternalRigidbodyComponent>this).motion = (this.velocity.squareMagnitude() + Math.pow(this.angularVelocity, 2)) * 0.5;\n\n    this.lastPosition.copy(this.transform.position);\n  }\n\n  public reset(): void {\n    super.reset();\n    this.angularDrag = 0;\n    this.angularVelocity = 0;\n    this.drag = 0;\n    this.freezeRotation = false;\n    this.mass = 1;\n    this.maxAngularVelocity = Infinity;\n    this.velocity = Vector.Get();\n    this.useGravity = false;\n    this.mass = 1;\n    this.moi = 1000;\n    this.isSleeping = false;\n    this.sleepThreshold = 1;\n    this.sleepTimer = 0;\n    this.forces = [\n      Vector.Get(),\n      Vector.Get(),\n      Vector.Get(),\n      Vector.Get()\n    ];\n    this.torques = [0, 0, 0, 0];\n    this.lastPosition = Vector.Get();\n  }\n\n  public destroy(): void {\n    super.destroy();\n    this.velocity.destroy();\n    this.forces.forEach(force => force.destroy());\n    Vector.Put(this.velocity);\n    Vector.Put(this.lastPosition);\n    this.forces.forEach(force => Vector.Put(force));\n  }\n\n  private checkSleep(deltaTimeInSecond: number): void {\n    if (!this.isSleeping && this.sleepThreshold >= 0) {\n      if (this.motion < this.sleepThreshold) {\n        this.sleepTimer += deltaTimeInSecond;\n\n        if (this.sleepTimer > 0.5) {\n          this.sleepTimer = 0;\n          this.sleep();\n        }\n      } else {\n        this.sleepTimer = 0;\n      }\n    } else {\n      if (this.motion >= this.sleepThreshold) {\n        this.awake();\n      }\n    }\n\n    if (!this.transform.position.equalTo(this.lastPosition, 1)) {\n      this.awake();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Physics/RigidbodyComponent.ts","import { Resource } from 'Engine/Resource/Resource';\nimport { addToArray } from 'Engine/Utility/ArrayUtility';\nimport { Observable } from 'rxjs/Observable';\n\nexport class Bundle extends Resource {\n\n  constructor(bundleName: string,\n              public readonly resources: ReadonlyArray<Resource> = []) {\n    super(bundleName);\n  }\n\n  public add(resource: Resource): void {\n    if (addToArray(<Resource[]>this.resources, resource)) {\n      this._isLoaded = false;\n    }\n\n    resource.onProgress$.subscribe(this.onProgress);\n  }\n\n  public async load(): Promise<void> {\n    if (this._isLoaded) {\n      return;\n    }\n\n    try {\n      await Promise.all(this.resources.map(async resource => resource.load()));\n    } catch (err) {\n      this.onError.next(err);\n    }\n\n    this._isLoaded = true;\n    this.onLoad.next();\n  }\n\n  public destroy(): void {\n    this.resources.forEach(resource => resource.destroy());\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Resource/Bundle.ts","import { GameObject } from 'Engine/Core/GameObject';\nimport { Screen } from 'Engine/Display/Screen';\nimport { GameObjectInitializer } from 'Engine/Core/GameObjectInitializer';\nimport { Color } from 'Engine/Display/Color';\nimport { Bounds } from 'Engine/Display/Bounds';\nimport { Vector } from 'Engine/Math/Vector';\nimport { Rect } from 'Engine/Math/Rect';\nimport { Matrix } from 'Engine/Math/Matrix';\nimport { Layer, AllBuiltInLayer } from 'Engine/Utility/Type';\nimport { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\nimport { Service } from 'Engine/Decorator/Service';\nimport { Inject } from 'Engine/Decorator/Inject';\n\nexport const MainCamera = Symbol('MainCamera');\n\n/**\n * Camera\n */\n@Service(MainCamera)\nexport class Camera extends GameObject {\n\n  public aspect: number = 16 / 9;\n\n  public backgroundColor: Color = Color.Black;\n\n  public toWorldMatrix: Matrix = new Matrix();\n\n  public toScreenMatrix: Matrix = new Matrix();\n\n  /**\n   * Define which layers should be render.\n   */\n  public cullingMask: Layer = AllBuiltInLayer;\n\n  /**\n   * Define which layers could trigger mouse event.\n   */\n  public eventMask: Layer = AllBuiltInLayer;\n\n  /**\n   * Where on the screen is the camera rendered in normalized coordinates.\n   */\n  public rect: Rect = new Rect();\n\n  /**\n   * Camera visible area bounds in world coordinate.\n   */\n  public bounds: Bounds = new Bounds();\n\n  constructor(@Inject(BrowserDelegate) browser: BrowserDelegate,\n              @Inject(Screen) screen: Screen,\n              @Inject(GameObjectInitializer) gameObjectInitializer: GameObjectInitializer) {\n    super(gameObjectInitializer);\n    // Default set to full screen.\n    this.setSize(screen.width, screen.height);\n  }\n\n  public setSize(width: number, height: number): void {\n    this.toScreenMatrix.reset();\n\n    this.rect.width = width;\n    this.rect.height = height;\n\n    const halfWidth = width * 0.5;\n    const halfHeight = height * 0.5;\n\n    // set center as zero point.\n    this.toScreenMatrix.translate(halfWidth, halfHeight);\n    // reverse Y axis\n    this.toScreenMatrix.scale(0, -1);\n\n    this.bounds.extents.setTo(halfWidth, halfHeight);\n  }\n\n  public update(): void {\n    super.update();\n    /**\n     * Perform camera movement, rotation and scaling.\n     * Save those transform and restore after render.\n     */\n    this.toScreenMatrix.save();\n    this.toScreenMatrix.translate(-this.transform.position.x, -this.transform.position.y);\n    this.toScreenMatrix.rotate(this.transform.rotation);\n    this.toScreenMatrix.scale(this.transform.scale);\n\n    this.toWorldMatrix.invertFrom(this.toScreenMatrix);\n\n    this.bounds.center.copy(this.transform.position);\n  }\n\n  public postRender(): void {\n    super.postRender();\n    this.toScreenMatrix.restore();\n  }\n\n  public screenToWorld(point: Vector): Vector {\n    const result = point.clone();\n    this.toWorldMatrix.multiplyToPoint(result);\n    return result;\n  }\n\n  public worldToScreen(point: Vector): Vector {\n    const result = point.clone();\n    this.toScreenMatrix.multiplyToPoint(result);\n    return result;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Core/Camera.ts","import { Texture } from 'Engine/Resource/Texture';\nimport { Resource } from 'Engine/Resource/Resource';\nimport { Font } from 'Engine/Resource/Font';\nimport { Sound } from 'Engine/Resource/Sound';\nimport { Bundle } from 'Engine/Resource/Bundle';\n\nexport const texture_bird = new Texture('./assets/flappy-bird/bird.png');\n\nexport const texture_pipe = new Texture('./assets/flappy-bird/pipe.png');\n\nexport const texture_sky = new Texture('./assets/flappy-bird/background.png');\n\nexport const texture_ground = new Texture('./assets/flappy-bird/ground.png');\n\nexport const font = new Font('FlappyBird', 'truetype', './assets/flappy-bird/font.ttf');\n\nexport const texture_splash = new Texture('./assets/flappy-bird/splash.png');\n\nexport const texture_scoreboard = new Texture('./assets/flappy-bird/scoreboard.png');\n\nexport const texture_medal_bronze = new Texture('./assets/flappy-bird/medal_bronze.png');\n\nexport const texture_medal_gold = new Texture('./assets/flappy-bird/medal_gold.png');\n\nexport const texture_medal_platinum = new Texture('./assets/flappy-bird/medal_platinum.png');\n\nexport const texture_medal_silver = new Texture('./assets/flappy-bird/medal_silver.png');\n\nexport const sfx_point = new Sound('./assets/flappy-bird/sfx_point.wav');\n\nexport const sfx_wing = new Sound('./assets/flappy-bird/sfx_wing.wav');\n\nexport const sfx_hit = new Sound('./assets/flappy-bird/sfx_hit.wav');\n\nexport const sfx_die = new Sound('./assets/flappy-bird/sfx_die.wav');\n\nexport const bundle = new Bundle('game resources', [\n  texture_bird,\n  texture_pipe,\n  texture_sky,\n  texture_ground,\n  font,\n  texture_splash,\n  texture_scoreboard,\n  texture_medal_bronze,\n  texture_medal_gold,\n  texture_medal_platinum,\n  texture_medal_silver,\n  sfx_point,\n  sfx_wing,\n  sfx_hit,\n  sfx_die\n]);\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/resource.ts","import { BaseObject } from 'Engine/Core/BaseObject';\nimport { GameObject } from 'Engine/Core/GameObject';\nimport { Tree } from 'Engine/Utility/Tree';\nimport { Bundle } from 'Engine/Resource/Bundle';\nimport { Camera, MainCamera } from 'Engine/Core/Camera';\nimport { addToArray,\n         removeFromArray } from 'Engine/Utility/ArrayUtility';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { Class } from 'Engine/Decorator/Class';\nimport { BroadPhaseCollisionResolver } from 'Engine/Physics/BroadPhaseCollisionResolver';\nimport { NarrowPhaseCollisionResolver } from 'Engine/Physics/NarrowPhaseCollisionResolver';\nimport { Vector } from 'Engine/Math/Vector';\nimport { GameObjectInitializer } from 'Engine/Core/GameObjectInitializer';\nimport { RenderProcess } from 'Engine/Render/RenderProcess';\nimport { ifdef, DEBUG_PHYSICS, DEBUG } from 'Engine/runtime';\nimport { Logger } from 'Engine/Core/Logger';\nimport { Screen } from 'Engine/Display/Screen';\nimport { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Time } from 'Engine/Time/Time';\nimport { Color } from 'Engine/Display/Color';\nimport { PointerInput } from 'Engine/Input/PointerInput';\n\n/**\n * Scene manage game objects and resources.\n */\n@Class()\nexport class Scene extends BaseObject {\n\n  private _resources: Bundle;\n\n  /**\n   * Game objects store as a tree.\n   * If a parent was deactivated, all children of it will be deactivated.\n   */\n  protected gameObjects: Tree<GameObject>;\n\n  protected cameras: Camera[];\n\n  protected rightTop: Vector;\n\n  protected resizeSubscription: Subscription;\n\n  public get isLoaded(): boolean { return this._resources.isLoaded; }\n\n  public get resources(): Bundle { return this._resources; }\n\n  constructor(@Inject(BroadPhaseCollisionResolver) protected broadPhaseCollisionResolver: BroadPhaseCollisionResolver,\n              @Inject(NarrowPhaseCollisionResolver) protected narrowPhaseCollisionResolver: NarrowPhaseCollisionResolver,\n              @Inject(GameObjectInitializer) protected gameObjectInitializer: GameObjectInitializer,\n              @Inject(RenderProcess) protected renderProcess: RenderProcess,\n              @Inject(MainCamera) public mainCamera: Camera,\n              @Inject(Logger) protected logger: Logger,\n              @Inject(Screen) protected screen: Screen,\n              @Inject(BrowserDelegate) protected browser: BrowserDelegate,\n              @Inject(Time) protected time: Time,\n              @Inject(PointerInput) protected pointInput: PointerInput) {\n    super();\n  }\n\n  public reset(): void {\n    super.reset();\n    this._resources = new Bundle('default');\n    this.gameObjects = new Tree<GameObject>(<any>null);\n    this.cameras = [];\n    this.rightTop = Vector.Get();\n  }\n\n  public start(): void {\n    if (this.hasStarted) {\n      return;\n    }\n\n    super.start();\n    this.add(this.mainCamera);\n    this.resizeSubscription = this.browser.resize$.subscribe(() => this.onResize());\n    this.rightTop.setTo(this.screen.width, 0);\n  }\n\n  public destroy(): void {\n    super.destroy();\n\n    if (this.hasStarted) {\n      this.gameObjects.forEachChildren(gameObject => gameObject.destroy());\n      this.resizeSubscription.unsubscribe();\n    }\n\n    this.gameObjects.clear();\n\n    Vector.Put(this.rightTop);\n    delete this.rightTop;\n\n    this._resources.destroy();\n  }\n\n  public add(gameObject: GameObject, at?: Vector): boolean {\n    if (!this.gameObjects.add(gameObject.node)) {\n      return false;\n    }\n\n    if (!gameObject.hasStarted) {\n      gameObject.node.hide();\n    }\n\n    if (gameObject instanceof Camera) {\n      addToArray(this.cameras, gameObject);\n    }\n\n    if (at) {\n      gameObject.transform.position.copy(at);\n    }\n\n    return true;\n  }\n\n  public remove(gameObject: GameObject): boolean {\n    // ensure parent has visiblity to this node.\n    gameObject.node.show();\n\n    if (!this.gameObjects.remove(gameObject.node)) {\n      // It may return false if this game object's parent is not scene root.\n      return false;\n    }\n\n    if (gameObject instanceof Camera) {\n      removeFromArray(this.cameras, gameObject);\n    }\n\n    return true;\n  }\n\n  public has(gameObject: GameObject): boolean {\n    return this.gameObjects.hasChild(gameObject.node);\n  }\n\n  public async load(): Promise<void> {\n    await this._resources.load();\n  }\n\n  public fixedUpdate(): void {\n    this.gameObjects.forEachChildren(gameObject => gameObject.fixedUpdate());\n    this.broadPhaseCollisionResolver.fixedUpdate();\n    this.narrowPhaseCollisionResolver.resolve(this.broadPhaseCollisionResolver.pairs);\n  }\n\n  public update(): void {\n    this.gameObjects.forEachChildren(gameObject => gameObject.update());\n    this.broadPhaseCollisionResolver.update();\n    this.narrowPhaseCollisionResolver.resolve(this.broadPhaseCollisionResolver.pairs);\n    ifdef(DEBUG, () => this.logger.update());\n  }\n\n  public lateUpdate(): void {\n    this.gameObjects.forEachChildren(gameObject => gameObject.lateUpdate());\n  }\n\n  public preRender(): void {\n    this.gameObjects.forEachChildren(gameObject => gameObject.preRender());\n    /**\n     * TODO: It is a heavy move, should find some way to handle object layering.\n     */\n    this.gameObjects.sort((a, b) => b.data.layer - a.data.layer);\n  }\n\n  public render(ctx: CanvasRenderingContext2D, width: number, height: number): void {\n    // TODO: camera order is an issue\n    this.renderProcess.useContext(ctx, width, height);\n    this.cameras.forEach(camera => this.renderProcess.render(camera, this.gameObjects));\n    ifdef(DEBUG_PHYSICS, () => this.cameras.forEach(camera => this.broadPhaseCollisionResolver.debugRender(ctx, camera)));\n    ifdef(DEBUG, () => {\n      this.logger.render(ctx);\n      this.debugRender(ctx);\n    });\n  }\n\n  public postRender(): void {\n    this.gameObjects.forEachChildren(gameObject => gameObject.postRender());\n    /**\n     * Resove all game object initialization at final step to ensure their cycle start before first update call.\n     */\n    this.gameObjectInitializer.resolve();\n  }\n\n  public toString(): string {\n    return `Scene(${this.name})`;\n  }\n\n  protected debugRender(ctx: CanvasRenderingContext2D): void {\n    const deltaTime = ((this.time.deltaTime * 100) | 0) * 0.01;\n    const fps = ((1000 / deltaTime * 100) | 0) * 0.01;\n\n    ctx.save();\n    ctx.fillStyle = Color.White.toHexString();\n\n    const deltaTimeText = `deltaTime: ${deltaTime}`;\n    const deltaTimeWidth = ctx.measureText(deltaTimeText).width;\n    ctx.fillText(deltaTimeText, this.rightTop.x - deltaTimeWidth, this.rightTop.y + 12);\n\n    const fpsText = `fps: ${fps}`;\n    const fpsWidth = ctx.measureText(fpsText).width;\n    ctx.fillText(fpsText, this.rightTop.x - fpsWidth, this.rightTop.y + 30);\n\n    const screenPositionText = `screen: ${this.pointInput.lastPointerPosition.x}, ${this.pointInput.lastPointerPosition.y}`;\n    const screenPositionWidth = ctx.measureText(screenPositionText).width;\n    ctx.fillText(screenPositionText, this.rightTop.x - screenPositionWidth, this.rightTop.y + 48);\n\n    const worldPosition = this.pointInput.lastPointerPosition.clone();\n    this.mainCamera.toWorldMatrix.multiplyToPoint(worldPosition);\n    const worldPositionText = `world: ${worldPosition.x}, ${worldPosition.y}`;\n    const worldPositionWidth = ctx.measureText(worldPositionText).width;\n    ctx.fillText(worldPositionText, this.rightTop.x - worldPositionWidth, this.rightTop.y + 66);\n\n    ctx.restore();\n  }\n\n  protected onResize(): void {\n    this.rightTop.setTo(this.screen.width, 0);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Core/Scene.ts","import { Recyclable } from 'Engine/Utility/Pool';\n\nexport class Projection implements Recyclable {\n\n  private _canRecycle: boolean = false;\n\n  get canRecycle(): boolean { return this._canRecycle; }\n\n  constructor(public min: number,\n              public max: number) {}\n\n  public overlaps(another: Projection): boolean {\n    return this.max > another.min && this.min < another.max;\n  }\n\n  public getOverlap(another: Projection): number {\n    if (!this.overlaps(another)) {\n      return 0;\n    }\n\n    return this.max > another.max ? another.max - this.min : this.max - another.min;\n  }\n\n  public destroy(): void {\n    this._canRecycle = true;\n  }\n\n  public reset(min: number = 0, max: number = 0): void {\n    this.min = min;\n    this.max = max;\n  }\n\n  public toString(): string {\n    return `Projection (${this.min}, ${this.max})`;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Math/Projection.ts","import { RendererComponent } from 'Engine/Render/RendererComponent';\nimport { Color } from 'Engine/Display/Color';\nimport { Class } from 'Engine/Decorator/Class';\n\n@Class()\nexport class TextRendererComponent extends RendererComponent {\n\n  public text = '';\n\n  public strokeColor: Color|undefined;\n\n  public fillColor: Color|undefined = Color.White;\n\n  public fontSize = 16;\n\n  public lineWidth = 1;\n\n  public fontFamily = 'Arial';\n\n  public fontWeight = 100;\n\n  public fontStyle: 'normal'|'italic'|'oblique'|'' = '';\n\n  public fontVariant: 'normal'|'small-caps'|'' = '';\n\n  private actualWidth = 0;\n\n  public update(): void {\n    super.update();\n\n    // Set font for measure text width.\n    this.ctx.font = `${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${this.fontSize}px ${this.fontFamily}`.trim();\n\n    if (!this.text) {\n      /**\n       * In will throw `InvalidStateError` in Safari if measure a empty text.\n       */\n      this.text = ' ';\n    }\n\n    this.actualWidth = this.ctx.measureText(this.text).width;\n\n    this.canvas.width = Math.ceil(this.actualWidth);\n\n    // TODO: Ensure descender line of font can display\n    this.canvas.height = this.fontSize;\n  }\n\n  public render(): void {\n    const ctx = this.ctx;\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    // Set font again, because after resize canvas, it will be restore.\n    this.ctx.font = `${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${this.fontSize}px ${this.fontFamily}`;\n\n    if (this.fillColor) {\n      ctx.fillStyle = this.fillColor.toHexString();\n      ctx.fillText(this.text, 0, this.fontSize);\n    }\n\n    if (this.strokeColor) {\n      ctx.strokeStyle = this.strokeColor.toHexString();\n      ctx.lineWidth = this.lineWidth;\n      ctx.strokeText(this.text, 0, this.fontSize);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Render/TextRendererComponent.ts","import { Vector } from 'Engine/Math/Vector';\n\nexport class Line {\n\n  constructor(public begin: Vector,\n              public end: Vector) {}\n\n  public get slope(): number {\n    return (this.end.y - this.begin.y) / (this.end.x - this.begin.x);\n  }\n\n  public get intercept(): number {\n    return this.begin.y - this.slope * this.begin.x;\n  }\n\n  public get length(): number {\n    return this.begin.distanceTo(this.end);\n  }\n\n  public getLength(): number {\n    return this.begin.distanceTo(this.end);\n  }\n\n  public getDirection(): Vector {\n    return this.end.clone().subtract(this.begin).normalize();\n  }\n\n  /**\n   * Resolve given point with given axis by this line's slope and intercept.\n   * Answer may not lay on this line.\n   * @param point The point want to resolve.\n   * @param axis Value of axis has been known.\n   */\n  public resolvePoint(point: Vector, axis: 'x'|'y'): void {\n    switch (axis) {\n      case 'x':\n        point.setTo(point.x, this.slope * point.x + this.intercept);\n        break;\n      case 'y':\n        point.setTo((point.y - this.intercept) / this.slope, point.y);\n        break;\n      default:\n        break;\n    }\n  }\n\n  /**\n   * @see http://stackoverflow.com/a/11908158/109458\n   */\n  public hasPoint(point: Vector, threshold: number = 1e-6): boolean {\n    const dxc = point.x - this.begin.x;\n    const dyc = point.y - this.begin.y;\n\n    const dxl = this.end.x - this.begin.x;\n    const dyl = this.end.y - this.begin.y;\n\n    const cross = dxc * dyl - dyc * dxl;\n\n    if (Math.abs(cross) > threshold) {\n      return false;\n    }\n\n    if (Math.abs(dxl) >= Math.abs(dyl)) {\n      return dxl > 0 ?\n        this.begin.x <= point.x && point.x <= this.end.x :\n        this.end.x <= point.x && point.x <= this.begin.x;\n    } else {\n      return dyl > 0 ?\n        this.begin.y <= point.y && point.y <= this.end.y :\n        this.end.y <= point.y && point.y <= this.begin.y;\n    }\n  }\n\n  public toString(): string {\n    return `Line (${this.begin} -> ${this.end})`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Math/Line.ts","import { GameObject } from 'Engine/Core/GameObject';\nimport { ColliderComponent } from 'Engine/Physics/ColliderComponent';\nimport { LineRendererComponent } from 'Engine/Render/LineRendererComponent';\nimport { Vector } from 'Engine/Math/Vector';\nimport { Line } from 'Engine/Math/Line';\nimport { Ray } from 'Engine/Math/Ray';\nimport { Projection } from 'Engine/Math/Projection';\nimport { CollisionJumpTable } from 'Engine/Physics/CollisionJumpTable';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { CollisionContact } from 'Engine/Physics/CollisionContact';\nimport { CircleColliderComponent } from 'Engine/Physics/CircleColliderComponent';\nimport { forwardRef } from 'Engine/Utility/Type';\nimport { Color } from 'Engine/Display/Color';\n\n/**\n * @see BoxColliderComponent\n */\nforwardRef(() => GameObject);\n\nexport class PolygonColliderComponent extends ColliderComponent {\n\n  /**\n   * Points for polygon shape definition in local space.\n   */\n  public points: Vector[] = [];\n\n  protected readonly _calculatedPoints: Vector[] = [];\n  protected readonly _calculatedAxes: Vector[] = [];\n  protected readonly _calculatedSides: Line[] = [];\n\n  /**\n   * Calculated points, axes and sides in world coordinate information for physics calculation.\n   */\n  public get calculatedPoints(): ReadonlyArray<Vector> { return this._calculatedPoints; }\n  public get calculatedAxes(): ReadonlyArray<Vector> { return this._calculatedAxes; }\n  public get calculatedSides(): ReadonlyArray<Line> { return this._calculatedSides; }\n\n  constructor(host: GameObject,\n              @Inject(CollisionJumpTable) protected collisionJumpTable: CollisionJumpTable) {\n    super(host);\n  }\n\n  public fixedUpdate(): void {\n    super.fixedUpdate();\n    this.calculate();\n  }\n\n  public calculate(): void {\n    const toWorldMatrix = this.host.transform.toWorldMatrix;\n    const count = this.points.length;\n    const diff = count - this._calculatedPoints.length;\n\n    if (diff > 0) {\n      for (let i = 0; i < diff; i++) {\n        this._calculatedPoints.push(new Vector());\n        this._calculatedAxes.push(new Vector());\n        this._calculatedSides.push(new Line(new Vector(), new Vector()));\n      }\n    } else if (diff < 0) {\n      this._calculatedPoints.splice(0, -diff);\n      this._calculatedAxes.splice(0, -diff);\n      this._calculatedSides.splice(0, -diff);\n    }\n\n    this._calculatedPoints.forEach((point, index) => point.copy(this.points[index]));\n    this._calculatedPoints.forEach(point => toWorldMatrix.multiplyToPoint(point));\n\n    for (let i = 0; i < count; i++) {\n      const p1 = this._calculatedPoints[i];\n      const p2 = this._calculatedPoints[(i + 1) % count];\n      const axis = this._calculatedAxes[i];\n      const side = this._calculatedSides[i];\n      axis.copy(p1).subtract(p2);\n      side.begin.copy(p1);\n      side.end.copy(p2);\n    }\n\n    // update bounds\n    const x = this._calculatedPoints.map(p => p.x);\n    const y = this._calculatedPoints.map(p => p.y);\n    const minX = Math.min(...x);\n    const minY = Math.min(...y);\n    const maxX = Math.max(...x);\n    const maxY = Math.max(...y);\n\n    this.bounds.center.setTo((maxX + minX) / 2, (maxY + minY) / 2);\n    this.bounds.extents.setTo((maxX - minX) / 2, (maxY - minY) / 2);\n  }\n\n  /**\n   * @override\n   * @inheritdoc\n   */\n  public collide(another: ColliderComponent): CollisionContact|undefined {\n    if (another instanceof PolygonColliderComponent) {\n      return this.collisionJumpTable.polygonPolygon(this, another);\n    } else if (another instanceof CircleColliderComponent) {\n      return this.collisionJumpTable.circlePolygon(another, this);\n    }\n  }\n\n  /**\n   * @override\n   * @inheritdoc\n   */\n  public contains(point: Vector): boolean {\n    const ray = new Ray(point, Vector.Right);\n    const count = this._calculatedSides.reduce((acc, side) => ray.intersect(side) === -1 ? acc : ++acc, 0);\n    return count % 2 !== 0;\n  }\n\n  /**\n   * @override\n   * @inheritdoc\n   */\n  public rayCast(ray: Ray): Vector|undefined {\n    let minDistance = Number.MAX_VALUE;\n    let noIntersect = true;\n    this._calculatedSides.forEach(side => {\n      const distance = ray.intersect(side);\n      if (distance > 0 && distance < minDistance) {\n        minDistance = distance;\n        noIntersect = false;\n      }\n    });\n\n    if (noIntersect) {\n      return;\n    }\n\n    return ray.getPoint(minDistance);\n  }\n\n  /**\n   * @override\n   * @inheritdoc\n   */\n  public project(axis: Vector): Projection {\n    let min = Number.MAX_VALUE;\n    let max = -Number.MAX_VALUE;\n    this._calculatedPoints.forEach(point => {\n      const s = point.dot(axis);\n      min = Math.min(min, s);\n      max = Math.max(max, s);\n    });\n\n    return new Projection(min, max);\n  }\n\n  /**\n   * @override\n   * @inheritdoc\n   */\n  public getFurthestPoint(direction: Vector): Vector {\n    let max = -Number.MAX_VALUE;\n    let pointer = -1;\n    this._calculatedPoints.forEach((point, index) => {\n      const dot = point.dot(direction);\n      if (dot > max) {\n        max = dot;\n        pointer = index;\n      }\n    });\n    return this._calculatedPoints[pointer].clone();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Physics/PolygonColliderComponent.ts","import { Inject } from 'Engine/Decorator/Inject';\nimport { Bounds } from 'Engine/Display/Bounds';\nimport { Component } from 'Engine/Core/Component';\nimport { RigidbodyComponent } from 'Engine/Physics/RigidbodyComponent';\nimport { Vector } from 'Engine/Math/Vector';\nimport { CollisionContact } from 'Engine/Physics/CollisionContact';\nimport { Ray } from 'Engine/Math/Ray';\nimport { Projection } from 'Engine/Math/Projection';\nimport { ColliderType } from 'Engine/Physics/ColliderType';\nimport { BroadPhaseCollisionResolver } from 'Engine/Physics/BroadPhaseCollisionResolver';\nimport { TransformComponent } from 'Engine/Display/TransformComponent';\nimport { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\n\ninterface InternalColliderComponent {\n  rigidbody: RigidbodyComponent|undefined;\n  transform: TransformComponent;\n  type: ColliderType;\n}\n\nexport class ColliderComponent extends Component {\n\n  /**\n   * AABB bounds for broadphase collition detection\n   * It will be update by collider component.\n   */\n  public bounds: Bounds = new Bounds();\n\n  /**\n   * collider offset\n   */\n  public offset: Vector = new Vector();\n\n  /**\n   * A mask to determine which layer collider should calculate collision.\n   */\n  public layer: number = 1;\n\n  // public debug: boolean = false;\n\n  public restitution: number = 0.2;\n\n  public friction: number = 0.99;\n\n  public isKinematic: boolean = false;\n\n  public isTigger: boolean = false;\n\n  public readonly type: ColliderType = ColliderType.Static;\n\n  /**\n   * There are at least two kinds of collider:\n   * 1. static collider     : without rigidbody\n   * 2. rigidbody collider  : with rigidbody\n   */\n  public readonly rigidbody: RigidbodyComponent|undefined;\n\n  public readonly transform: TransformComponent;\n\n  @Inject(BroadPhaseCollisionResolver)\n  private broadPhaseCollisionResolver: BroadPhaseCollisionResolver;\n\n  /**\n   * Calculate collision contact if body collided.\n   */\n  public collide(another: ColliderComponent): CollisionContact|undefined { return; }\n\n  /**\n   * Check point is contained in.\n   */\n  public contains(point: Vector): boolean { return false; }\n\n  /**\n   * Ray cast to and get intersect point.\n   */\n  public rayCast(ray: Ray): Vector|undefined { return; }\n\n  /**\n   * Project to given axis and return projection.\n   */\n  public project(axis: Vector): Projection { return new Projection(0, 0); }\n\n  /**\n   * Get furthest point through given direction.\n   */\n  public getFurthestPoint(direction: Vector): Vector { return this.bounds.center.clone(); }\n\n  private _onCollide$ = new Subject<CollisionContact>();\n\n  private _onTirgger$ = new Subject<ColliderComponent>();\n\n  public get onCollide$(): Observable<CollisionContact> { return this._onCollide$.asObservable(); }\n\n  public get onTrigger$(): Observable<ColliderComponent> { return this._onTirgger$.asObservable(); }\n\n  public start(): void {\n    super.start();\n    (<InternalColliderComponent>this).rigidbody = this.getComponent(RigidbodyComponent);\n    if (this.rigidbody) {\n      if (this.isKinematic) {\n        (<InternalColliderComponent>this).type = ColliderType.Kinematic;\n        this.rigidbody.sleepThreshold = -1;\n      } else {\n        (<InternalColliderComponent>this).type = ColliderType.Rigidbody;\n      }\n    }\n\n    (<InternalColliderComponent>this).transform = <TransformComponent>this.getComponent(TransformComponent);\n\n    /**\n     * TODO: track after checked target has been added to scene\n     */\n    this.broadPhaseCollisionResolver.track(this);\n  }\n\n  public onCollide(collisionContact: CollisionContact): void {\n    this._onCollide$.next(collisionContact);\n  }\n\n  public onTrigger(other: ColliderComponent): void {\n    this._onTirgger$.next(other);\n  }\n\n  public reset(): void {\n    this._onCollide$ = new Subject<CollisionContact>();\n    this._onTirgger$ = new Subject<ColliderComponent>();\n  }\n\n  public destroy(): void {\n    super.destroy();\n    this._onCollide$.complete();\n    this._onTirgger$.complete();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Physics/ColliderComponent.ts","import { GameObject } from 'Engine/Core/GameObject';\nimport { ColliderComponent } from 'Engine/Physics/ColliderComponent';\nimport { CircleRendererComponent } from 'Engine/Render/CircleRendererComponent';\nimport { Vector } from 'Engine/Math/Vector';\nimport { Ray } from 'Engine/Math/Ray';\nimport { Projection } from 'Engine/Math/Projection';\nimport { CollisionJumpTable } from 'Engine/Physics/CollisionJumpTable';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { forwardRef } from 'Engine/Utility/Type';\nimport { PolygonColliderComponent } from 'Engine/Physics/PolygonColliderComponent';\nimport { CollisionContact } from 'Engine/Physics/CollisionContact';\nimport { LineRendererComponent } from 'Engine/Render/LineRendererComponent';\nimport { Color } from 'Engine/Display/Color';\n\ninterface InternalCircleColliderComponent {\n  calculatedRadius: number;\n}\n\n/**\n * @see BoxColliderComponent\n */\nforwardRef(() => GameObject);\n\nexport class CircleColliderComponent extends ColliderComponent {\n\n  public radius: number = 0;\n\n  /**\n   * Calaulated radius.\n   */\n  public readonly calculatedRadius = 0;\n\n  constructor(host: GameObject,\n              @Inject(CollisionJumpTable) private collisionJumpTable: CollisionJumpTable) {\n    super(host);\n  }\n\n  public fixedUpdate(): void {\n    super.fixedUpdate();\n\n    const scale = (this.transform.scale.x + this.transform.scale.y) * 0.5;\n    (<InternalCircleColliderComponent>this).calculatedRadius = this.radius * scale;\n    // update bounds\n    this.bounds.center.copy(this.host.transform.position);\n    this.bounds.extents.setTo(this.calculatedRadius, this.calculatedRadius);\n  }\n\n  /**\n   * @override\n   * @inheritdoc\n   */\n  public collide(another: ColliderComponent): CollisionContact|undefined {\n    if (another instanceof CircleColliderComponent) {\n      return this.collisionJumpTable.circleCircle(this, another);\n    } else if (another instanceof PolygonColliderComponent) {\n      return this.collisionJumpTable.circlePolygon(this, another);\n    }\n  }\n\n  /**\n   * @override\n   * @inheritdoc\n   */\n  public contains(point: Vector): boolean {\n    return this.bounds.center.distanceTo(point) <= this.calculatedRadius;\n  }\n\n  /**\n   * @see https://en.wikipedia.org/wiki/Linesphere_intersection\n   * @override\n   * @inheritdoc\n   */\n  public rayCast(ray: Ray): Vector|undefined {\n    const c = this.bounds.center;\n    const r = this.calculatedRadius;\n    const o = ray.origin;\n    const l = ray.direction;\n    const co = o.clone().subtract(c);\n    const discriminant = Math.sqrt(Math.pow(l.dot(co), 2) - Math.pow(co.magnitude(), 2) + Math.pow(r, 2));\n\n    if (discriminant < 0) {\n      return;\n    }\n\n    let d = -l.dot(co);\n\n    if (discriminant > 0) {\n      const d1 = d + discriminant;\n      const d2 = d - discriminant;\n      d = Math.min(d1, d2);\n    }\n\n    return ray.getPoint(d);\n  }\n\n  /**\n   * @override\n   * @inheritdoc\n   */\n  public project(axis: Vector): Projection {\n    const dot = this.bounds.center.dot(axis);\n    const s = [dot, dot + this.calculatedRadius, dot - this.calculatedRadius];\n    return new Projection(Math.min(...s), Math.max(...s));\n  }\n\n  /**\n   * @override\n   * @inheritdoc\n   */\n  public getFurthestPoint(direction: Vector): Vector {\n    return this.bounds.center.clone().add(direction.clone().normalize().multiply(this.calculatedRadius));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Physics/CircleColliderComponent.ts","import { GameObject } from 'Engine/Core/GameObject';\nimport { Vector } from 'Engine/Math/Vector';\nimport { Line } from 'Engine/Math/Line';\nimport { forwardRef } from 'Engine/Utility/Type';\nimport { PolygonColliderComponent } from 'Engine/Physics/PolygonColliderComponent';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { CollisionJumpTable } from 'Engine/Physics/CollisionJumpTable';\n\n/**\n * TODO:\n * This is really strange\n * If without access GameObject ever, it will not be loaded.\n * Workaround via forward get temporarily\n * It should be a webpack relevant bug...\n */\nforwardRef(() => GameObject);\n\nexport class BoxColliderComponent extends PolygonColliderComponent {\n\n  public size: Vector = new Vector();\n\n  constructor(host: GameObject,\n              @Inject(CollisionJumpTable) collisionJumpTable: CollisionJumpTable) {\n    super(host, collisionJumpTable);\n    for (let i = 0; i < 4; i++) {\n      this.points.push(new Vector());\n      this._calculatedPoints.push(new Vector());\n      this._calculatedAxes.push(new Vector());\n      this._calculatedSides.push(new Line(new Vector(), new Vector()));\n    }\n  }\n\n  /**\n   * Optimized calculation for rectangle\n   * @override\n   */\n  public calculate(): void {\n    const toWorldMatrix = this.host.transform.toWorldMatrix;\n\n    const halfSizeX = this.size.x * 0.5;\n    const halfSizeY = this.size.y * 0.5;\n\n    this.points[0].setTo(-halfSizeX, -halfSizeY);\n    this.points[1].setTo( halfSizeX, -halfSizeY);\n    this.points[2].setTo( halfSizeX,  halfSizeY);\n    this.points[3].setTo(-halfSizeX,  halfSizeY);\n\n    this._calculatedPoints[0].setTo(-halfSizeX, -halfSizeY);\n    this._calculatedPoints[1].setTo( halfSizeX, -halfSizeY);\n    this._calculatedPoints[2].setTo( halfSizeX,  halfSizeY);\n    this._calculatedPoints[3].setTo(-halfSizeX,  halfSizeY);\n    this._calculatedPoints.forEach(point => toWorldMatrix.multiplyToPoint(point));\n\n    for (let i = 0; i < 4; i++) {\n      const p1 = this._calculatedPoints[i];\n      const p2 = this._calculatedPoints[(i + 1) % 4];\n      const axis = this._calculatedAxes[i];\n      const side = this._calculatedSides[i];\n      axis.copy(p1).subtract(p2);\n      side.begin.copy(p1);\n      side.end.copy(p2);\n    }\n\n    // update bounds\n    const x = this._calculatedPoints.map(p => p.x);\n    const y = this._calculatedPoints.map(p => p.y);\n    const minX = Math.min(...x);\n    const minY = Math.min(...y);\n    const maxX = Math.max(...x);\n    const maxY = Math.max(...y);\n\n    this.bounds.center.setTo((maxX + minX) / 2, (maxY + minY) / 2);\n    this.bounds.extents.setTo((maxX - minX) / 2, (maxY - minY) / 2);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Physics/BoxColliderComponent.ts","import { Inject } from 'Engine/Decorator/Inject';\nimport { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\nimport { Component } from 'Engine/Core/Component';\nimport { GameObject } from 'Engine/Core/GameObject';\nimport { Sound } from 'Engine/Resource/Sound';\nimport { forwardRef } from 'Engine/Utility/Type';\n\nforwardRef(() => GameObject);\n\nexport class AudioPlayerComponent extends Component {\n\n  protected gainNode: GainNode;\n\n  protected bufferSource: AudioBufferSourceNode;\n\n  private _volume = 1;\n\n  private _loop = false;\n\n  private _isPaused = false;\n\n  private _isPlaying = false;\n\n  /**\n   * When resume, change playback rate, have to calculate pause\n   */\n  private _lastCalculatedAt = 0;\n\n  /**\n   * Has played time from audio started.\n   */\n  private _elapsedTime = 0;\n\n  private _playbackRate = 1;\n\n  private _source: Sound|undefined;\n\n  public get isPaused(): boolean { return this._isPaused; }\n\n  public get isPlaying(): boolean { return this._isPlaying; }\n\n  public get playbackRate(): number { return this._playbackRate; }\n\n  public set playbackRate(value: number) { this.setPlaybackRate(value); }\n\n  public get volume(): number { return this._volume; }\n\n  public set volume(value: number) { this.setVolume(value); }\n\n  public get loop(): boolean { return this._loop; }\n\n  public set loop(value: boolean) { this.setLoop(value); }\n\n  public get source(): Sound|undefined { return this._source; }\n\n  public set source(value: Sound|undefined) {\n    this._source = value;\n  }\n\n  constructor(host: GameObject,\n              @Inject(BrowserDelegate) private browser: BrowserDelegate) {\n    super(host);\n  }\n\n  public reset(): void {\n    super.reset();\n\n    if (!this._source) {\n      return;\n    }\n\n    this.createBufferSource(this._source.context, this._source.data);\n  }\n\n  public resume(): void {\n    if (!this._source || !this._source.isLoaded) {\n      return;\n    }\n\n    if (!this._isPaused) {\n      return;\n    }\n\n    this.createBufferSource(this._source.context, this._source.data);\n    this.bufferSource.start(0, this._elapsedTime & this._source.duration);\n    this._isPaused = false;\n    this._isPlaying = true;\n  }\n\n  public pause(): void {\n    if (!this._isPlaying) {\n      return;\n    }\n\n    this.calculatePlayedTime();\n    this._isPaused = true;\n    this.bufferSource.stop(0);\n  }\n\n  public play(): void {\n    if (!this._source || !this._source.isLoaded) {\n      return;\n    }\n\n    if (this._isPaused) {\n      this.resume();\n      return;\n    }\n\n    if (this._isPlaying) {\n      return;\n    }\n\n    this.createBufferSource(this._source.context, this._source.data);\n    this.bufferSource.start(0);\n    this._isPaused = false;\n    this._isPlaying = true;\n    this._lastCalculatedAt = Date.now();\n  }\n\n  public stop(): void {\n    if (!this._isPlaying) {\n      return;\n    }\n\n    this._elapsedTime = 0;\n    this._isPaused = false;\n    this.bufferSource.stop(0);\n  }\n\n  public setPlaybackRate(value: number): void {\n    this._playbackRate = value;\n\n    if (this.bufferSource) {\n      this.bufferSource.playbackRate.value = value;\n    }\n  }\n\n  public setVolume(value: number): void {\n    this._volume = value;\n\n    if (this.gainNode) {\n      this.gainNode.gain.value = value;\n    }\n  }\n\n  public setLoop(value: boolean): void {\n    this._loop = value;\n\n    if (this.bufferSource) {\n      this.bufferSource.loop = value;\n    }\n  }\n\n  private calculatePlayedTime(): void {\n    const now = Date.now();\n    this._elapsedTime += (now - this._lastCalculatedAt) / this._playbackRate * 0.001;\n    this._lastCalculatedAt = now;\n  }\n\n  private createBufferSource(ctx: AudioContext, buffer: AudioBuffer): void {\n    if (!this.gainNode) {\n      this.gainNode = ctx.createGain();\n      // Connect gain node to destination\n      this.gainNode.connect(ctx.destination);\n    }\n\n    this.gainNode.gain.value = this._volume;\n\n    /**\n     * No need to stop here.\n     * `createBufferSource` should always called after checking play status.\n     * Repeatly stop buffer source will throw InvalidStateError in safari.\n     */\n    // if (this.bufferSource) {\n    //   this.bufferSource.stop();\n    // }\n\n    this.bufferSource = ctx.createBufferSource();\n\n    /**\n     * Connect buffer source to gain node.\n     * AudioBuffer -> GainNode -> BufferSource\n     */\n    this.bufferSource.connect(this.gainNode);\n    this.bufferSource.buffer = buffer;\n    this.bufferSource.loop = this._loop;\n    this.bufferSource.playbackRate.value = this._playbackRate;\n    this.bufferSource.onended = e => this.onBufferSourceEnd(e);\n  }\n\n  private onBufferSourceEnd(e: MediaStreamErrorEvent) {\n    this._isPlaying = false;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Media/AudioPlayerComponent.ts","export enum ColliderType {\n  Static,\n  Rigidbody,\n  Kinematic\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Physics/ColliderType.ts","import { Resource } from 'Engine/Resource/Resource';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\n\nexport class Sound extends Resource<AudioBuffer> {\n\n  @Inject(BrowserDelegate)\n  private browser: BrowserDelegate;\n\n  private _duration = 0;\n\n  public get duration(): number { return this._duration; }\n\n  public readonly context: AudioContext = this.browser.getAudioContext();\n\n  constructor(path: string) {\n    super(path);\n    this._responseType = 'arraybuffer';\n  }\n\n  protected async processData(data: any): Promise<AudioBuffer|undefined> {\n    return new Promise<AudioBuffer>((resolve, reject) => {\n      if (!this.context) {\n        reject(new Error('Fail to create audio context'));\n        return;\n      }\n\n      this.context.decodeAudioData(\n        data,\n        audioBuffer => {\n          this._duration = audioBuffer.duration;\n          resolve(audioBuffer);\n        },\n        reject\n      );\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Resource/Sound.ts","import 'Engine/preset';\nimport { bootstrap,\n         instantiate,\n         def,\n         DEBUG,\n         DEBUG_PHYSICS,\n         DEBUG_RENDERER,\n         getService } from 'Engine/runtime';\nimport { Screen } from 'Engine/Display/Screen';\n\n// Display log and meta info\ndef(DEBUG);\n\n// Display collider bounds\n// def(DEBUG_PHYSICS);\n\n// Display rendering bounds\n// def(DEBUG_RENDERER);\n\nimport { MainScene } from './MainScene';\nimport { bundle } from './resource';\n\n/**\n * Hardcode screen size here.\n * Because camera rect did not work perfect currently.\n */\nconst screen = <Screen>getService(Screen);\nscreen.setSize(375, 667);\n\nconst mainScene = instantiate(MainScene);\nmainScene.resources.add(bundle);\n\nbootstrap(mainScene);\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/main.ts","import { Class } from 'Engine/Decorator/Class';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { SceneManager } from 'Engine/Core/SceneManager';\nimport { instantiate } from 'Engine/runtime';\nimport { Scene } from 'Engine/Core/Scene';\nimport { Vector } from 'Engine/Math/Vector';\n\nimport { GameManager } from './GameManager';\nimport { Background } from './Background';\nimport { Splash } from './Splash';\nimport { Score } from './Score';\nimport { Pipe } from './Pipe';\nimport { Bird } from './Bird';\nimport { BuiltInLayer } from 'Engine/Utility/Type';\nimport { ScoreBoard } from 'Examples/flappy-bird/ScoreBoard';\n\n@Class()\nexport class MainScene extends Scene {\n\n  /**\n   * Manage all game object in scene\n   */\n  public start(): void {\n    super.start();\n\n    const background = instantiate(Background);\n    background.layer = BuiltInLayer.Background;\n    this.add(background);\n\n    const bird = instantiate(Bird);\n    this.add(bird, new Vector(-this.screen.width / 4, 0));\n\n    const pipes = [\n      instantiate(Pipe),\n      instantiate(Pipe),\n      instantiate(Pipe),\n      instantiate(Pipe)\n    ];\n    pipes.forEach(pipe => this.add(pipe));\n\n    const score = instantiate(Score);\n    score.layer = BuiltInLayer.UI;\n    this.add(score, new Vector(0, this.screen.height / 3));\n\n    const splash = instantiate(Splash);\n    splash.layer = BuiltInLayer.UI;\n    this.add(splash);\n\n    const scoreBoard = instantiate(ScoreBoard);\n    scoreBoard.layer = BuiltInLayer.UI;\n    this.add(scoreBoard);\n\n    /**\n     * Control game rules in game manager.\n     */\n    const gameManager = instantiate(GameManager);\n    gameManager.background = background;\n    gameManager.splash = splash;\n    gameManager.score = score;\n    gameManager.pipes = pipes;\n    gameManager.bird = bird;\n    gameManager.scoreBoard = scoreBoard;\n    this.add(gameManager);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/MainScene.ts","import 'rxjs/add/operator/throttleTime';\nimport { Observable } from 'rxjs/Observable';\nimport { GameObject } from 'Engine/Core/GameObject';\nimport { Class } from 'Engine/Decorator/Class';\nimport { PointerInput } from 'Engine/Input/PointerInput';\nimport { KeyboardInput } from 'Engine/Input//KeyboardInput';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { Vector } from 'Engine/Math/Vector';\nimport { Screen } from 'Engine/Display/Screen';\nimport { Sprite } from 'Engine/Display/Sprite';\nimport { Random } from 'Engine/Math/Random';\nimport { AudioPlayerComponent } from 'Engine/Media/AudioPlayerComponent';\nimport { SpriteRendererComponent } from 'Engine/Render/SpriteRendererComponent';\n\nimport { bundle, sfx_point, texture_splash } from './resource';\nimport { Bird } from './Bird';\nimport { Pipe } from './Pipe';\nimport { Background } from './Background';\nimport { Score } from './Score';\nimport { Splash } from './Splash';\nimport { SceneManager } from 'Engine/Core/SceneManager';\nimport { Logger } from 'Engine/Core/Logger';\nimport { Subscription } from 'rxjs/Subscription';\nimport { ColliderComponent } from 'Engine/Physics/ColliderComponent';\nimport { ScoreBoard } from 'Examples/flappy-bird/ScoreBoard';\n\nconst kPipeDistance = 300;\nconst kPipeRandamRange = 200;\n\nenum GameStatus {\n  Init,\n  Playing,\n  Over\n}\n\n@Class()\nexport class GameManager extends GameObject {\n\n  public splash: Splash;\n\n  public score: Score;\n\n  public pipes: Pipe[];\n\n  public bird: Bird;\n\n  public background: Background;\n\n  public scoreBoard: ScoreBoard;\n\n  private sfxScore: AudioPlayerComponent;\n\n  private status = GameStatus.Init;\n\n  @Inject(Screen)\n  private screen: Screen;\n\n  @Inject(PointerInput)\n  private pointerInput: PointerInput;\n\n  @Inject(KeyboardInput)\n  private keyboardInput: KeyboardInput;\n\n  @Inject(Random)\n  private random: Random;\n\n  @Inject(SceneManager)\n  private sceneManager: SceneManager;\n\n  @Inject(Logger)\n  private logger: Logger;\n\n  private subscriptions: Subscription[] = [];\n\n  public start(): void {\n    super.start();\n\n    this.sfxScore = this.addComponent(AudioPlayerComponent);\n    this.sfxScore.source = sfx_point;\n\n    this.subscriptions.push(this.bird.onCollide$.subscribe((e) => this.onBirdCollide(e)));\n\n    this.subscriptions.push(Observable.merge(\n      this.pointerInput.pointerStart$,\n      this.keyboardInput.keyDown$.filter(e => e.key === ' ')\n    ).throttleTime(100).subscribe(() => this.onTouch()));\n\n    /**\n     * Handle infinity pipes\n     */\n    this.pipes.forEach((pipe, index) =>\n      pipe.onBecameInvisible$.subscribe(() => this.onPipeBecameInvisible(pipe, index))\n    );\n\n    this.gameReset();\n  }\n\n  public destroy(): void {\n    super.destroy();\n    this.subscriptions.forEach(subscription => subscription.unsubscribe());\n    this.subscriptions = [];\n  }\n\n  public update(): void {\n    super.update();\n\n    this.pipes.forEach((pipe, index) => {\n      /**\n       * Check bird has cross this pipe, increase score and mark this pipe if true.\n       */\n      if (!pipe.scored) {\n        if (pipe.transform.position.x < this.bird.transform.position.x) {\n          this.increaseScore();\n          pipe.scored = true;\n          return true;\n        }\n      }\n    });\n  }\n\n  public gameStart(): void {\n    this.score.setScore(0);\n    this.score.activate();\n    this.splash.deactivate();\n    this.status = GameStatus.Playing;\n    this.pipes.forEach(pipe => pipe.startMove());\n    this.bird.isFalling = true;\n    this.background.isMoving = true;\n    this.logger.log('game start');\n  }\n\n  public gameOver(): void {\n    this.score.deactivate();\n    this.status = GameStatus.Over;\n    this.logger.log('game over');\n    this.scoreBoard.activate();\n    this.scoreBoard.setScore(this.score.getScore());\n    this.background.isMoving = false;\n    this.pipes.forEach(pipe => pipe.stopMove());\n  }\n\n  public gameReset(): void {\n    this.splash.activate();\n    this.scoreBoard.deactivate();\n    this.bird.isFalling = false;\n\n    this.bird.transform.position.copy(new Vector(-this.screen.width / 4, 0));\n\n    this.pipes.forEach((pipe, index) => {\n      const x = (index + 1) * kPipeDistance;\n      const y = this.random.integer(-kPipeRandamRange, kPipeRandamRange) + 50;\n      pipe.transform.position.setTo(x, y);\n    });\n\n    this.status = GameStatus.Init;\n    this.logger.log('game init');\n  }\n\n  private increaseScore(): void {\n    this.score.increaseScore();\n    this.sfxScore.play();\n  }\n\n  private onTouch(): void {\n    switch (this.status) {\n      case GameStatus.Init:\n        this.gameStart();\n        break;\n      case GameStatus.Over:\n        this.gameReset();\n        break;\n      case GameStatus.Playing:\n      default:\n        this.bird.fly();\n        break;\n    }\n  }\n\n  private onPipeBecameInvisible(pipe: Pipe, index: number): void {\n    let prevIndex = index - 1;\n\n    if (prevIndex < 0) {\n      prevIndex += this.pipes.length;\n    }\n\n    const prevPipe = this.pipes[prevIndex];\n    pipe.transform.position.x = prevPipe.transform.position.x + kPipeDistance;\n    pipe.transform.position.y = this.random.integer(-kPipeRandamRange, kPipeRandamRange) + 50;\n    pipe.scored = false;\n  }\n\n  private onBirdCollide(e: ColliderComponent): void {\n    if (this.status === GameStatus.Playing) {\n      this.bird.die();\n      this.gameOver();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/GameManager.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar throttleTime_1 = require('../../operator/throttleTime');\nObservable_1.Observable.prototype.throttleTime = throttleTime_1.throttleTime;\n//# sourceMappingURL=throttleTime.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rxjs/add/operator/throttleTime.js\n// module id = 128\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar async_1 = require('../scheduler/async');\nvar throttle_1 = require('./throttle');\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for `duration` milliseconds, then repeats this process.\n *\n * <span class=\"informal\">Lets a value pass, then ignores source values for the\n * next `duration` milliseconds.</span>\n *\n * <img src=\"./img/throttleTime.png\" width=\"100%\">\n *\n * `throttleTime` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled. After `duration` milliseconds (or the time unit determined\n * internally by the optional `scheduler`) has passed, the timer is disabled,\n * and this process repeats for the next source value. Optionally takes a\n * {@link IScheduler} for managing timers.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.throttleTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {number} duration Time to wait before emitting another value after\n * emitting the last value, measured in milliseconds or the time unit determined\n * internally by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the throttling.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttleTime\n * @owner Observable\n */\nfunction throttleTime(duration, scheduler, config) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    if (config === void 0) { config = throttle_1.defaultThrottleConfig; }\n    return this.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing));\n}\nexports.throttleTime = throttleTime;\nvar ThrottleTimeOperator = (function () {\n    function ThrottleTimeOperator(duration, scheduler, leading, trailing) {\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n    };\n    return ThrottleTimeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ThrottleTimeSubscriber = (function (_super) {\n    __extends(ThrottleTimeSubscriber, _super);\n    function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {\n        _super.call(this, destination);\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n        this._hasTrailingValue = false;\n        this._trailingValue = null;\n    }\n    ThrottleTimeSubscriber.prototype._next = function (value) {\n        if (this.throttled) {\n            if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n        else {\n            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));\n            if (this.leading) {\n                this.destination.next(value);\n            }\n        }\n    };\n    ThrottleTimeSubscriber.prototype.clearThrottle = function () {\n        var throttled = this.throttled;\n        if (throttled) {\n            if (this.trailing && this._hasTrailingValue) {\n                this.destination.next(this._trailingValue);\n                this._trailingValue = null;\n                this._hasTrailingValue = false;\n            }\n            throttled.unsubscribe();\n            this.remove(throttled);\n            this.throttled = null;\n        }\n    };\n    return ThrottleTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchNext(arg) {\n    var subscriber = arg.subscriber;\n    subscriber.clearThrottle();\n}\n//# sourceMappingURL=throttleTime.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rxjs/operator/throttleTime.js\n// module id = 129\n// module chunks = 0","\"use strict\";\nvar AsyncAction_1 = require('./AsyncAction');\nvar AsyncScheduler_1 = require('./AsyncScheduler');\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asap} scheduler.\n *\n * @example <caption>Use async scheduler to delay task</caption>\n * const task = () => console.log('it works!');\n *\n * Rx.Scheduler.async.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n *\n *\n * @example <caption>Use async scheduler to repeat task in intervals</caption>\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * Rx.Scheduler.async.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n *\n * @static true\n * @name async\n * @owner Scheduler\n */\nexports.async = new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction);\n//# sourceMappingURL=async.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rxjs/scheduler/async.js\n// module id = 130\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Action_1 = require('./Action');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        // Always replace the current state with the new state.\n        this.state = state;\n        // Set the pending flag indicating that this action has been scheduled, or\n        // has recursively rescheduled itself.\n        this.pending = true;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        //\n        // Important implementation note:\n        //\n        // Actions only execute once by default, unless rescheduled from within the\n        // scheduled callback. This allows us to implement single and repeat\n        // actions via the same code path, without adding API surface area, as well\n        // as mimic traditional recursion but across asynchronous boundaries.\n        //\n        // However, JS runtimes and timers distinguish between intervals achieved by\n        // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n        // serial `setTimeout` calls can be individually delayed, which delays\n        // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n        // guarantee the interval callback will be invoked more precisely to the\n        // interval period, regardless of load.\n        //\n        // Therefore, we use `setInterval` to schedule single and repeat actions.\n        // If the action reschedules itself with the same delay, the interval is not\n        // canceled. If the action doesn't reschedule, or reschedules with a\n        // different delay, the interval will be canceled after scheduled callback\n        // execution.\n        //\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.delay = delay;\n        // If this action has already an async Id, don't request a new one.\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return root_1.root.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If this action is rescheduled with the same delay time, don't clear the interval id.\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        // Otherwise, if the action's delay time is different from the current delay,\n        // or the action has been rescheduled before it's executed, clear the interval id\n        return root_1.root.clearInterval(id) && undefined || undefined;\n    };\n    /**\n     * Immediately executes this action and the `work` it contains.\n     * @return {any}\n     */\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            // Dequeue if the action didn't reschedule itself. Don't call\n            // unsubscribe(), because the action could reschedule later.\n            // For example:\n            // ```\n            // scheduler.schedule(function doWork(counter) {\n            //   /* ... I'm a busy worker bee ... */\n            //   var originalAction = this;\n            //   /* wait 100ms before rescheduling the action */\n            //   setTimeout(function () {\n            //     originalAction.schedule(counter + 1);\n            //   }, 100);\n            // }, 1000);\n            // ```\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action_1.Action));\nexports.AsyncAction = AsyncAction;\n//# sourceMappingURL=AsyncAction.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rxjs/scheduler/AsyncAction.js\n// module id = 131\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('../Subscription');\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        _super.call(this);\n    }\n    /**\n     * Schedules this action on its parent Scheduler for execution. May be passed\n     * some context object, `state`. May happen at some point in the future,\n     * according to the `delay` parameter, if specified.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler.\n     * @return {void}\n     */\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription_1.Subscription));\nexports.Action = Action;\n//# sourceMappingURL=Action.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rxjs/scheduler/Action.js\n// module id = 132\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Scheduler_1 = require('../Scheduler');\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler() {\n        _super.apply(this, arguments);\n        this.actions = [];\n        /**\n         * A flag to indicate whether the Scheduler is currently executing a batch of\n         * queued actions.\n         * @type {boolean}\n         */\n        this.active = false;\n        /**\n         * An internal ID used to track the latest asynchronous task such as those\n         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n         * others.\n         * @type {any}\n         */\n        this.scheduled = undefined;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift()); // exhaust the scheduler queue\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler_1.Scheduler));\nexports.AsyncScheduler = AsyncScheduler;\n//# sourceMappingURL=AsyncScheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rxjs/scheduler/AsyncScheduler.js\n// module id = 133\n// module chunks = 0","\"use strict\";\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nvar Scheduler = (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    /**\n     * Schedules a function, `work`, for execution. May happen at some point in\n     * the future, according to the `delay` parameter, if specified. May be passed\n     * some context object, `state`, which will be passed to the `work` function.\n     *\n     * The given arguments will be processed an stored as an Action object in a\n     * queue of actions.\n     *\n     * @param {function(state: ?T): ?Subscription} work A function representing a\n     * task, or some unit of work to be executed by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler itself.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @return {Subscription} A subscription in order to be able to unsubscribe\n     * the scheduled work.\n     */\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = Date.now ? Date.now : function () { return +new Date(); };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\n//# sourceMappingURL=Scheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rxjs/Scheduler.js\n// module id = 134\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nexports.defaultThrottleConfig = {\n    leading: true,\n    trailing: false\n};\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for a duration determined by another Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link throttleTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/throttle.png\" width=\"100%\">\n *\n * `throttle` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled by calling the `durationSelector` function with the source value,\n * which returns the \"duration\" Observable. When the duration Observable emits a\n * value or completes, the timer is disabled, and this process repeats for the\n * next source value.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.throttle(ev => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration for each source value, returned as an Observable or a Promise.\n * @param {Object} config a configuration object to define `leading` and `trailing` behavior. Defaults\n * to `{ leading: true, trailing: false }`.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttle\n * @owner Observable\n */\nfunction throttle(durationSelector, config) {\n    if (config === void 0) { config = exports.defaultThrottleConfig; }\n    return this.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing));\n}\nexports.throttle = throttle;\nvar ThrottleOperator = (function () {\n    function ThrottleOperator(durationSelector, leading, trailing) {\n        this.durationSelector = durationSelector;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));\n    };\n    return ThrottleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc\n * @ignore\n * @extends {Ignored}\n */\nvar ThrottleSubscriber = (function (_super) {\n    __extends(ThrottleSubscriber, _super);\n    function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {\n        _super.call(this, destination);\n        this.destination = destination;\n        this.durationSelector = durationSelector;\n        this._leading = _leading;\n        this._trailing = _trailing;\n        this._hasTrailingValue = false;\n    }\n    ThrottleSubscriber.prototype._next = function (value) {\n        if (this.throttled) {\n            if (this._trailing) {\n                this._hasTrailingValue = true;\n                this._trailingValue = value;\n            }\n        }\n        else {\n            var duration = this.tryDurationSelector(value);\n            if (duration) {\n                this.add(this.throttled = subscribeToResult_1.subscribeToResult(this, duration));\n            }\n            if (this._leading) {\n                this.destination.next(value);\n                if (this._trailing) {\n                    this._hasTrailingValue = true;\n                    this._trailingValue = value;\n                }\n            }\n        }\n    };\n    ThrottleSubscriber.prototype.tryDurationSelector = function (value) {\n        try {\n            return this.durationSelector(value);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return null;\n        }\n    };\n    ThrottleSubscriber.prototype._unsubscribe = function () {\n        var _a = this, throttled = _a.throttled, _trailingValue = _a._trailingValue, _hasTrailingValue = _a._hasTrailingValue, _trailing = _a._trailing;\n        this._trailingValue = null;\n        this._hasTrailingValue = false;\n        if (throttled) {\n            this.remove(throttled);\n            this.throttled = null;\n            throttled.unsubscribe();\n        }\n    };\n    ThrottleSubscriber.prototype._sendTrailing = function () {\n        var _a = this, destination = _a.destination, throttled = _a.throttled, _trailing = _a._trailing, _trailingValue = _a._trailingValue, _hasTrailingValue = _a._hasTrailingValue;\n        if (throttled && _trailing && _hasTrailingValue) {\n            destination.next(_trailingValue);\n            this._trailingValue = null;\n            this._hasTrailingValue = false;\n        }\n    };\n    ThrottleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this._sendTrailing();\n        this._unsubscribe();\n    };\n    ThrottleSubscriber.prototype.notifyComplete = function () {\n        this._sendTrailing();\n        this._unsubscribe();\n    };\n    return ThrottleSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=throttle.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/rxjs/operator/throttle.js\n// module id = 135\n// module chunks = 0","import { Resource } from 'Engine/Resource/Resource';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { BrowserDelegate } from 'Engine/Utility/BrowserDelegate';\n\nexport class Font extends Resource {\n\n  public static CssTemplate = '@font-face { font-family: \\'{fontFamily}\\'; src: url(\\'{url}\\') format(\\'{format}\\'); }';\n\n  @Inject(BrowserDelegate)\n  private browser: BrowserDelegate;\n\n  constructor(public readonly fontFamily: string,\n              public readonly format: string,\n              path: string) {\n    super(path);\n    this._responseType = 'blob';\n  }\n\n  protected async processData(data: any): Promise<void> {\n    const blobUrl = await super.processData(data);\n    const style = this.browser.document.createElement('style');\n    style.textContent = Font.CssTemplate\n      .replace('{fontFamily}', this.fontFamily)\n      .replace('{url}', blobUrl)\n      .replace('{format}', this.format);\n\n    this.browser.document.head.appendChild(style);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Resource/Font.ts","// tslint:disable max-classes-per-file\nimport { Class } from 'Engine/Decorator/Class';\nimport { GameObject } from 'Engine/Core/GameObject';\nimport { SpriteRendererComponent } from 'Engine/Render/SpriteRendererComponent';\nimport { Sprite } from 'Engine/Display/Sprite';\nimport { BoxColliderComponent } from 'Engine/Physics/BoxColliderComponent';\nimport { Time } from 'Engine/Time/Time';\nimport { instantiate } from 'Engine/runtime';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { Screen } from 'Engine/Display/Screen';\n\nimport { texture_sky, texture_ground } from './resource';\n\n@Class()\nexport class Background extends GameObject {\n\n  private sky: Sky;\n\n  private grounds: Ground[];\n\n  @Inject(Screen)\n  private screen: Screen;\n\n  @Inject(Time)\n  private time: Time;\n\n  public isMoving = false;\n\n  public start(): void {\n    super.start();\n    this.sky = instantiate(Sky);\n    this.addChild(this.sky);\n\n    this.grounds = [];\n    for (let i = 0; i < 4; i++) {\n      const ground = instantiate(Ground);\n      this.grounds.push(ground);\n      ground.transform.position.setTo(\n        (i - 1) * 336,\n        50 - this.screen.height / 2\n      );\n      this.addChild(ground);\n    }\n  }\n\n  public fixedUpdate(): void {\n    super.update();\n\n    if (!this.isMoving) {\n      return;\n    }\n\n    const outOfScreen = (-this.screen.width - 336) / 2;\n\n    /**\n     * Infinity ground movement\n     */\n    this.grounds.forEach(ground => {\n      ground.transform.localPosition.x -= 10 * this.time.fixedDeltaTimeInSecond;\n      if (ground.transform.localPosition.x < outOfScreen) {\n        ground.transform.localPosition.x += 336 * 4;\n      }\n    });\n  }\n\n}\n\n@Class()\nclass Sky extends GameObject {\n\n  private renderer: SpriteRendererComponent;\n\n  public reset(): void {\n    super.reset();\n    this.renderer = this.addComponent(SpriteRendererComponent);\n  }\n\n  public start(): void {\n    super.start();\n    this.renderer.sprite = new Sprite(texture_sky);\n    this.transform.localScale.setTo(3);\n  }\n\n}\n\n@Class()\nclass Ground extends GameObject {\n\n  private renderer: SpriteRendererComponent;\n\n  private collider: BoxColliderComponent;\n\n  public start(): void {\n    super.start();\n    this.renderer = this.addComponent(SpriteRendererComponent);\n    this.renderer.sprite = new Sprite(texture_ground);\n\n    this.collider = this.addComponent(BoxColliderComponent);\n    this.collider.size.setTo(336, 112);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/Background.ts","import { Class } from 'Engine/Decorator/Class';\nimport { GameObject } from 'Engine/Core/GameObject';\nimport { SpriteRendererComponent } from 'Engine/Render/SpriteRendererComponent';\nimport { Sprite } from 'Engine/Display/Sprite';\nimport { texture_splash } from './resource';\n\n@Class()\nexport class Splash extends GameObject {\n\n  private renderer: SpriteRendererComponent;\n\n  public reset(): void {\n    super.reset();\n    this.name = 'splash';\n    this.renderer = this.addComponent(SpriteRendererComponent);\n    this.renderer.sprite = new Sprite(texture_splash);\n    this.transform.scale.setTo(1.5);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/Splash.ts","import { GameObject } from 'Engine/Core/GameObject';\nimport { TextRendererComponent } from 'Engine/Render/TextRendererComponent';\nimport { font } from './resource';\nimport { Color } from 'Engine/Display/Color';\n\nexport class Score extends GameObject {\n\n  private renderer: TextRendererComponent;\n\n  private value = 0;\n\n  public reset(): void {\n    super.reset();\n    this.renderer = this.addComponent(TextRendererComponent);\n    this.renderer.fontFamily = font.fontFamily;\n    this.renderer.fontSize = 64;\n    this.renderer.strokeColor = Color.Black;\n    this.renderer.lineWidth = 2;\n  }\n\n  public setScore(value: number): void {\n    this.value = value;\n    this.renderer.text = `${value}`;\n  }\n\n  public getScore(): number {\n    return this.value;\n  }\n\n  public increaseScore(): void {\n    this.setScore(++this.value);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/Score.ts","import { Class } from 'Engine/Decorator/Class';\nimport { GameObject } from 'Engine/Core/GameObject';\nimport { SpriteRendererComponent } from 'Engine/Render/SpriteRendererComponent';\nimport { Sprite } from 'Engine/Display/Sprite';\n\nimport { texture_pipe } from './resource';\nimport { instantiate } from 'Engine/runtime';\nimport { Observable } from 'rxjs/Observable';\nimport { Camera } from 'Engine/Core/Camera';\nimport { RigidbodyComponent } from 'Engine/Physics/RigidbodyComponent';\nimport { BoxColliderComponent } from 'Engine/Physics/BoxColliderComponent';\n\n@Class()\nclass PipeObject extends GameObject {\n\n  public renderer: SpriteRendererComponent;\n\n  public collider: BoxColliderComponent;\n\n  public start(): void {\n    super.start();\n    this.renderer = this.addComponent(SpriteRendererComponent);\n    this.collider = this.addComponent(BoxColliderComponent);\n    this.renderer.sprite = new Sprite(texture_pipe);\n    this.collider.size.setTo(138, 1000);\n  }\n\n}\n\n@Class()\nexport class Pipe extends GameObject {\n\n  private upper: PipeObject;\n\n  private lower: PipeObject;\n\n  private body: RigidbodyComponent;\n\n  get onBecameInvisible$(): Observable<Camera> { return this.upper.renderer.onBecameInvisible$; }\n\n  public scored: boolean;\n\n  public reset(): void {\n    super.reset();\n    this.upper = instantiate(PipeObject);\n    this.lower = instantiate(PipeObject);\n    this.scored = false;\n  }\n\n  public start(): void {\n    super.start();\n    this.body = this.addComponent(RigidbodyComponent);\n    this.upper.transform.localScale.setTo(1, -1);\n    this.upper.transform.position.setTo(0, 325);\n    this.lower.transform.position.setTo(0, -325);\n\n    this.addChild(this.upper);\n    this.addChild(this.lower);\n\n    this.transform.scale.setTo(0.5);\n  }\n\n  public startMove(): void {\n    this.body.velocity.setTo(-120, 0);\n  }\n\n  public stopMove(): void {\n    this.body.velocity.reset();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/Pipe.ts","import { GameObject } from 'Engine/Core/GameObject';\nimport { Class } from 'Engine/Decorator//Class';\nimport { RigidbodyComponent } from 'Engine/Physics/RigidbodyComponent';\nimport { CircleColliderComponent } from 'Engine/Physics//CircleColliderComponent';\nimport { Vector } from 'Engine/Math/Vector';\nimport { SpriteSheetRendererComponent } from 'Engine/Render/SpriteSheetRendererComponent';\nimport { SpriteSheet } from 'Engine/Display/SpriteSheet';\nimport { ForceMode } from 'Engine/Physics/ForceMode';\nimport { Observable } from 'rxjs/Observable';\nimport { AudioPlayerComponent } from 'Engine/Media/AudioPlayerComponent';\nimport { Inject } from 'Engine/Decorator/Inject';\nimport { Screen } from 'Engine/Display/Screen';\n\nimport { texture_bird, sfx_wing, sfx_hit } from './resource';\n\n@Class()\nexport class Bird extends GameObject {\n\n  public static readonly FlyVelocity = new Vector(0, 350);\n\n  public static readonly Gravity = new Vector(0, -1200);\n\n  private body: RigidbodyComponent;\n\n  private collider: CircleColliderComponent;\n\n  private renderer: SpriteSheetRendererComponent;\n\n  private sfxWing: AudioPlayerComponent;\n\n  private sfxHit: AudioPlayerComponent;\n\n  public isFalling: boolean;\n\n  public get onCollide$(): Observable<any> { return this.collider.onCollide$; }\n\n  @Inject(Screen)\n  private screen: Screen;\n\n  public reset(): void {\n    super.reset();\n    this.body = this.addComponent(RigidbodyComponent);\n    this.collider = this.addComponent(CircleColliderComponent);\n    this.renderer = this.addComponent(SpriteSheetRendererComponent);\n    this.sfxWing = this.addComponent(AudioPlayerComponent);\n    this.sfxWing.source = sfx_wing;\n    this.sfxHit = this.addComponent(AudioPlayerComponent);\n    this.sfxHit.source = sfx_hit;\n    this.isFalling = false;\n  }\n\n  public fixedUpdate(): void {\n    super.fixedUpdate();\n\n    const top = this.screen.height * 0.5 - 40;\n\n    if (this.transform.position.y >= top) {\n      this.transform.position.y = top;\n    }\n  }\n\n  public start(): void {\n    super.start();\n\n    this.collider.radius = 60;\n\n    this.renderer.spriteSheet = new SpriteSheet(\n      texture_bird,\n      [\n        { x:   0, y: 0, width: 210, height: 200 },\n        { x: 210, y: 0, width: 210, height: 200 },\n        { x: 420, y: 0, width: 210, height: 200 }\n      ],\n      6\n    );\n\n    this.transform.scale.setTo(0.25);\n  }\n\n  public update(): void {\n    super.update();\n    if (this.isFalling) {\n      this.body.addForce(Bird.Gravity, ForceMode.Acceleration);\n    } else {\n      this.body.velocity.reset();\n    }\n\n    this.transform.rotation = this.body.velocity.y / 4000 * Math.PI;\n  }\n\n  public fly(): void {\n    this.body.velocity.reset();\n    this.body.addForce(Bird.FlyVelocity, ForceMode.VelocityChange);\n    if (this.sfxWing.isPlaying) {\n      this.sfxWing.stop();\n    }\n    this.sfxWing.play();\n  }\n\n  public die(): void {\n    this.sfxHit.play();\n    this.body.clearForce();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/Bird.ts","import { SpriteRendererComponent } from 'Engine/Render/SpriteRendererComponent';\nimport { Sprite } from 'Engine/Display/Sprite';\nimport { SpriteSheet } from 'Engine/Display/SpriteSheet';\nimport { Time } from 'Engine/Time/Time';\nimport { UniqueComponent } from 'Engine/Decorator/UniqueComponent';\nimport { Inject } from 'Engine/Decorator/Inject';\n\n@UniqueComponent()\nexport class SpriteSheetRendererComponent extends SpriteRendererComponent {\n\n  private _spriteSheet: SpriteSheet;\n\n  private sheetKey: string;\n\n  private currentIndex: number = 0;\n\n  private sprites: ReadonlyArray<Sprite>|undefined;\n\n  private accumulator: number = 0;\n\n  get spriteSheet(): SpriteSheet { return this._spriteSheet; }\n\n  set spriteSheet(value: SpriteSheet) { this.setSpriteSheep(value); }\n\n  @Inject(Time)\n  private time: Time;\n\n  public play(key = 'default'): void {\n    this.currentIndex = 0;\n    this.sheetKey = key;\n    this.accumulator = 0;\n    this.sprites = this._spriteSheet.getSprites(this.sheetKey);\n  }\n\n  public update(): void {\n    if (!this.sprites) {\n      this.sprite = undefined;\n      return;\n    }\n\n    this.accumulator += this.time.deltaTime;\n\n    if (this.accumulator > this._spriteSheet.frameTime) {\n      const times = (this.accumulator / this._spriteSheet.frameTime) | 0;\n      this.accumulator %= this._spriteSheet.frameTime;\n      this.currentIndex += times;\n      if (this.currentIndex >= this.sprites.length) {\n        this.currentIndex %= this.sprites.length;\n      }\n    }\n\n    this.sprite = this.sprites[this.currentIndex];\n\n    // After updated sprite, super call for calculate bounds.\n    super.update();\n  }\n\n  private setSpriteSheep(spriteSheet: SpriteSheet): void {\n    this._spriteSheet = spriteSheet;\n    // initialize sprites\n    if (!this.sprites) {\n      this.play();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Render/SpriteSheetRendererComponent.ts","import { Texture } from 'Engine/Resource/Texture';\nimport { Sprite } from 'Engine/Display/Sprite';\nimport { Rect } from 'Engine/Math/Rect';\nimport { Vector } from 'Engine/Math/Vector';\n\nexport interface SpriteSheetCell {\n  x?: number;\n  y?: number;\n  width: number;\n  height: number;\n}\n\nexport type SpriteSheetCells = SpriteSheetCell[];\n\nexport interface SpriteSheetCellMap {\n  [name: string]: SpriteSheetCells;\n}\n\ninterface InternalSpriteSheet {\n  frameTime: number;\n}\n\nexport class SpriteSheet {\n\n  private sprites: Map<string, Sprite[]> = new Map();\n\n  public readonly frameTime: number;\n\n  public get fps(): number { return this._fps; }\n\n  public set fps(value: number) {\n    this._fps = value;\n    (<InternalSpriteSheet>this).frameTime = 1000 / value;\n  }\n\n  constructor(public texture: Texture,\n              private cellMapOrCells: SpriteSheetCellMap|SpriteSheetCells,\n              private _fps = 24) {\n    if (Array.isArray(cellMapOrCells)) {\n      const sprites = this.makeSprites(texture, cellMapOrCells);\n      const key = 'default';\n      this.sprites.set(key, sprites);\n    } else {\n      const keys = Object.keys(cellMapOrCells);\n      keys.forEach(key => {\n        const cells = cellMapOrCells[key];\n        const sprites = this.makeSprites(texture, cells);\n        this.sprites.set(key, sprites);\n      });\n    }\n\n    this.frameTime = 1000 / _fps;\n}\n\n  public getSprites(key: string): ReadonlyArray<Sprite> {\n    return this.sprites.get(key) || [];\n  }\n\n  public getSprite(key: string, index: number): Sprite|undefined {\n    const sprites = this.sprites.get(key);\n    if (!sprites) {\n      return;\n    }\n\n    const correctedIndex = index % sprites.length;\n\n    return sprites[correctedIndex];\n  }\n\n  private makeSprites(texture: Texture, cells: SpriteSheetCells): Sprite[] {\n    const sprites: Sprite[] = [];\n    cells.forEach(cell => {\n      const sprite = new Sprite(texture, new Rect(new Vector(cell.x || 0, cell.y || 0), cell.width, cell.height));\n      sprites.push(sprite);\n    });\n    return sprites;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Engine/Display/SpriteSheet.ts","import { Class } from 'Engine/Decorator/Class';\nimport { GameObject } from 'Engine/Core/GameObject';\nimport { SpriteRendererComponent } from 'Engine/Render/SpriteRendererComponent';\nimport { Sprite } from 'Engine/Display/Sprite';\n\nimport { texture_scoreboard,\n         texture_medal_bronze,\n         texture_medal_silver,\n         texture_medal_gold,\n         texture_medal_platinum,\n         font } from './resource';\nimport { instantiate } from 'Engine/runtime';\nimport { TextRendererComponent } from 'Engine/Render/TextRendererComponent';\nimport { Color } from 'Engine/Display/Color';\n\n@Class()\nexport class ScoreBoard extends GameObject {\n\n  private renderer: SpriteRendererComponent;\n\n  private medal: Medal;\n\n  private currentScore: Score;\n\n  private bestScore: Score;\n\n  public start(): void {\n    super.start();\n    this.renderer = this.addComponent(SpriteRendererComponent);\n    this.renderer.sprite = new Sprite(texture_scoreboard);\n\n    this.medal = instantiate(Medal);\n    this.medal.transform.position.setTo(-62, 6);\n    this.addChild(this.medal);\n\n    this.currentScore = instantiate(Score);\n    this.currentScore.transform.position.setTo(80, 28);\n    this.addChild(this.currentScore);\n\n    this.bestScore = instantiate(Score);\n    this.bestScore.transform.position.setTo(80, -12);\n    this.addChild(this.bestScore);\n  }\n\n  public setScore(score: number) {\n    this.currentScore.setScore(score);\n    this.bestScore.setScore(0);\n    if (score >= 40) {\n      this.medal.setType(MedalType.Platinum);\n    } else if (score >= 30) {\n      this.medal.setType(MedalType.Gold);\n    } else if (score >= 20) {\n      this.medal.setType(MedalType.Silver);\n    } else if (score >= 10) {\n      this.medal.setType(MedalType.Bronze);\n    } else {\n      this.medal.setType(MedalType.None);\n    }\n  }\n\n}\n\nenum MedalType {\n  None,\n  Bronze,  // > 10\n  Silver,  // > 20\n  Gold,    // > 30\n  Platinum // > 40\n}\n\n@Class()\nclass Medal extends GameObject {\n\n  private renderer: SpriteRendererComponent;\n\n  public start(): void {\n    super.start();\n    this.renderer = this.addComponent(SpriteRendererComponent);\n  }\n\n  public setType(type: MedalType): void {\n    switch (type) {\n      case MedalType.Bronze:\n        this.renderer.sprite = new Sprite(texture_medal_bronze);\n        break;\n      case MedalType.Silver:\n        this.renderer.sprite = new Sprite(texture_medal_silver);\n        break;\n      case MedalType.Gold:\n        this.renderer.sprite = new Sprite(texture_medal_gold);\n        break;\n      case MedalType.Platinum:\n        this.renderer.sprite = new Sprite(texture_medal_platinum);\n        break;\n      case MedalType.None:\n      default:\n        this.renderer.sprite = undefined;\n        break;\n    }\n  }\n\n}\n\nclass Score extends GameObject {\n\n  private renderer: TextRendererComponent;\n\n  public start(): void {\n    super.start();\n    this.renderer = this.addComponent(TextRendererComponent);\n    this.renderer.fontFamily = font.fontFamily;\n    this.renderer.fontSize = 24;\n    this.renderer.strokeColor = Color.Black;\n    this.renderer.lineWidth = 2;\n  }\n\n  public setScore(score: number): void {\n    this.renderer.text = `${score}`;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./Examples/flappy-bird/ScoreBoard.ts"],"sourceRoot":""}